---
title: Windows 身份验证概念
description: Windows Server 安全
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-windows-auth
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 29d1db15-cae0-4e3d-9d8e-241ac206bb8b
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: ee3fa19efa8c5098008749a467e649edcb5bb716
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/17/2019
ms.locfileid: "59876498"
---
# <a name="windows-authentication-concepts"></a>Windows 身份验证概念

>适用于：Windows 服务器 （半年频道），Windows Server 2016

本参考概述主题介绍了 Windows 身份验证所基于的概念。

身份验证是验证对象或个人身份的过程。 当你对某个对象进行身份验证时，目的就在于验证该对象是否为正版。 当对用户进行身份验证时，目的是验证的人不是冒名顶替者。

在网络环境中，身份验证是指证明网络应用程序或资源的身份的动作。 通常情况下，标识是经验证的加密操作使用密钥仅用户知道 （使用公钥加密） 或共享的密钥。 身份验证交换的服务器端会将签名数据和已知的加密密钥相比较来验证身份验证尝试。

将加密密钥存储在安全的中心位置中可以确保身份验证过程可伸缩且可维护。 Active Directory 是推荐的和默认技术来存储标识信息，其中包括加密密钥是用户的凭据。 Active Directory 是默认 NTLM 和 Kerberos 实现所必需的。

身份验证技术范围从简单登录到操作系统或登录到服务或应用程序，标识基于只有用户知道，如密码，使用的功能更强大安全机制的某些内容的用户的令牌、 公钥证书、 图片或生物属性作为用户 has'such。 在业务环境中，用户可能访问许多类型的服务器在单个位置或多个位置上的多个应用程序。 鉴于这些原因，身份验证必须支持其他平台和其他 Windows 操作系统的环境。

## <a name="authentication-and-authorization-a-travel-analogy"></a>身份验证和授权：旅行类比
旅行类比可以帮助解释身份验证的工作原理。 通常只需要将开始过程，几个预备性任务。 勵計劃必须到其主机颁发机构来证明其真实标识。 验证公民、 出生的位置、 个人凭证、 照片，或任何所需主机国家/地区的法律的形式可以是此概念。 通过 passport，它类似于系统帐户颁发并受组织-安全主体颁发验证勵計劃的标识。 Passport 和预期的目标基于一组规则和规章由政府颁发机构颁发。

**旅程**

当在国际边框到达勵計劃时，边框防护要求提供凭据，并勵計劃呈现他或她 passport。 此过程包括两个方面：

-   通过验证，它由颁发安全机构当地政府信任 （信任，至少，发出护照） 并验证尚未修改 passport，临界对 passport 进行身份验证。

-   临界进行勵計劃身份验证通过验证人脸匹配 passport 上图所示的人员的人脸以及其他所需的凭据处于良好状态。

如果 passport 证明有效并且勵計劃但事实证明，成为其所有者，身份验证成功，并且勵計劃可以跨边框允许访问。

安全机构之间的可传递信任是身份验证; 的基础在国际边界中进行身份验证的类型取决于信任。 当地政府不知道勵計劃，但它信任主机政府 does。 当主机政府发出 passport 时，它并不知道勵計劃或者。 它受信任的颁发出生证书或其他文档的机构。 反过来，颁发出生证书的机构受信任的签名证书在医生。 医生观察到勵計劃的出生和标记使用直通身份验证的标识证书在这种情况下为新生儿的占用空间。 可传递信任，这种方式，通过受信任的媒介传输。

可传递信任是 Windows 客户端/服务器体系结构中的网络安全的基础。 信任关系的域，例如域树中，一组在中流动和窗体域和信任的域的所有域之间的关系。 例如，如果域 A 具有可传递信任的域 B，并且域 B 信任域 C，则域 A 信任域 c。

没有身份验证和授权之间的差异。 使用身份验证，系统可证明你是所说的人。 在授权，系统将验证您具有权限才能执行所需执行操作。 若要到下一步边框比喻，只进行身份验证勵計劃正确的有效 passport 所有者并不一定授予勵計劃输入国家/地区。 允许特定国家/地区的居民通过只只在其中输入的国家/地区不受限制可用于授予权限所有很好地处理该特定国家/地区的输入的情况下提供 passport 输入另一个国家/地区。

同样，您可以授予所有用户从特定域权限来访问资源。 任何用户都属于该域有权访问资源，就像加拿大允许输入加拿大的美国公民。 但是，尝试输入巴西或印度的美国公民发现它们不能只是通过出示护照，因为这两个国家/地区需要访问具有有效 visa 的美国公民输入这些国家/地区。 因此，身份验证不保证对资源或使用资源的授权的访问权限。

## <a name="credentials"></a>凭据
Passport 和可能是关联的 visas 勵計劃接受的凭据。 但是，这些凭据可能不允许勵計劃输入或访问国家/地区内的所有资源。 例如，需要使用其他凭据才能参加会议。 在 Windows 中，可以管理凭据以使帐户持有人通过网络访问的资源，而无需反复无需提供其凭据。 此类型的访问权限允许用户通过系统访问的所有应用程序进行身份验证一次以及数据源，他们有权使用而无需输入另一个帐户标识符或密码。 能够在网络上使用单个用户标识 （由 Active Directory 维护），通过本地缓存用户凭据在操作系统的本地安全机构 (LSA) 利用 Windows 平台。 当用户登录到域时，Windows 身份验证包以透明方式使用的凭据进行身份验证凭据对网络资源时提供单一登录。 有关凭据的详细信息，请参阅[中 Windows 身份验证的凭据进程](credentials-processes-in-windows-authentication.md)。

勵計劃的多重身份验证的窗体可能需要执行和呈现多个文档，例如 passport 和会议的注册信息他标识进行身份验证。 Windows 实现此窗体或通过智能卡、 虚拟智能卡和生物识别技术进行身份验证。 

## <a name="security-principals-and-accounts"></a>安全主体和帐户
在 Windows 中，任何用户、 服务、 组或计算机可以启动操作是安全主体。 安全主体拥有帐户，可以是计算机的本地或基于域。 例如，Windows 客户端加入域的计算机可以参与网络域通过与域控制器通信，即使没有用户登录。 若要启动的通信，计算机必须在域中具有一个有效的帐户。 在接受来自计算机的通信，域控制器上的本地安全机构对计算机的标识进行身份验证，然后定义计算机的安全上下文，就像人的安全主体一样。 此安全上下文在特定计算机或用户、 服务、 组或网络上的计算机上定义的标识和用户或服务的功能。 例如，它定义的资源，例如文件共享或打印机，可以访问和操作，例如读取、 写入或修改，可以执行的用户、 服务或对该资源的计算机。 有关详细信息，请参阅[安全主体](https://technet.microsoft.com/itpro/windows/keep-secure/security-principals)。

帐户是一种方法来标识索赔-的用户或服务--请求访问或资源。 持有可信 passport 勵計劃拥有具有主机国家/地区的帐户。 用户组的用户、 对象和服务都可以有个人帐户或共享的帐户。 帐户可以是组的成员，并且可以分配特定权限和权限。 帐户可能会局限于本地计算机、 工作组、 网络或分配给域成员身份。

内置帐户和安全组，它们的成员，定义每个版本的 Windows 上。 通过使用安全组，您可以分配相同的安全权限到许多用户成功通过身份验证，从而简化了访问管理。 用于颁发护照规则可能需要勵計劃将分配给特定组，如业务，或旅游或政府版。 此过程可确保在所有组的成员的协调统一的安全权限。 使用安全组分配权限的访问控制的资源的方式保持常量，且易于管理和审核。 通过添加和删除用户需要从适当的安全组的访问，根据需要可以尽量减少要访问控制列表 (Acl) 的更改的频率。

独立托管服务帐户和虚拟帐户在 Windows Server 2008 R2 和 Windows 7 的自己的域隔离提供必需的应用程序，如 Microsoft Exchange Server 和 Internet 信息服务 (IIS) 中引入帐户，同时无需管理员手动管理服务主体名称 (SPN) 和这些帐户的凭据。 组托管的服务帐户在 Windows Server 2012 中引入并提供在域中相同的功能，但还扩展了该功能，在多台服务器。 连接到服务器场上托管的服务时，如网络负载平衡，支持相互身份验证的身份验证协议要求服务的所有实例都使用同一主体。

有关帐户的详细信息，请参阅：

-   [Active Directory 帐户](https://technet.microsoft.com/itpro/windows/keep-secure/active-directory-accounts)

-   [Active Directory 安全组](https://technet.microsoft.com/itpro/windows/keep-secure/active-directory-security-groups)

-   [本地帐户](https://technet.microsoft.com/itpro/windows/keep-bastion.local-accounts)

-   [Microsoft Accounts](https://technet.microsoft.com/itpro/windows/keep-secure/microsoft-accounts)

-   [服务帐户](https://technet.microsoft.com/itpro/windows/keep-secure/service-accounts)

-   [特殊身份](https://technet.microsoft.com/itpro/windows/keep-secure/special-identities)

## <a name="delegated-authentication"></a>委派的身份验证
若要使用旅行类比，国家/地区可能会发出相同的访问权限的官方的政府委派，所有成员只要委托是已知。 此委派可让另一个成员的颁发机构上执行操作的一个成员。 在 Windows，委派的身份验证时发生网络服务接受来自用户的身份验证请求，并假定该用户的标识以便启动到第二个网络服务的新连接。 若要支持委派的身份验证，必须建立负责处理客户端身份验证请求的 web 服务器前端或第一层的服务器和后端或 n 层服务器，如大型数据库，对负责存储信息。 您可以委派设置委派给你的组织中的用户的身份验证以降低你的管理员的管理负载的权限。

通过建立的服务或计算机为受信任可以进行委派，您可以让该服务或计算机完成委派的身份验证、 接收的用户正在发出请求，票证，然后访问该用户的信息。 此模型限制数据访问后端服务器上的只需对这些用户或服务使用正确的访问控制令牌该提供凭据。 此外，它允许访问这些后端资源的审核。 通过要求所有数据都访问通过委派给服务器以代表客户端使用的凭据，可确保该服务器不会泄露和其他服务器上，您可以访问敏感信息的存储。 委派的身份验证可用于多层应用程序，可用于在多个计算机之间使用单一登录功能。

### <a name="authentication-in-trust-relationships-between-domains"></a>域之间信任关系中的身份验证
大多数组织具有多个域且合理需要用户可以访问位于不同域中的共享的资源，就像勵計劃允许前往在国家/地区的不同区域。 控制此访问权限需要一个域中的用户，可通过身份验证和授权在另一个域中使用的资源。 若要提供客户端和服务器位于不同的域之间的身份验证和授权功能，必须信任之间有两个域。 信任都是安全的 Active Directory 通信发生和是不可或缺的安全组件的 Windows Server 网络体系结构的基础技术。

当两个域之间存在信任时，每个域的身份验证机制将信任来自其他域身份验证。 信任帮助通过验证传入的身份验证来提供对资源域-信任的域-中的共享资源的受控访问请求来自受信任的颁发机构-受信任的域。 这样一来，仅允许的桥接器验证身份验证请求的域之间的差旅充当信任关系。

特定信任将身份验证请求传递的方式取决于其配置方式。 信任关系可以是单向的通过提供访问从受信任的域信任域中的资源或双向的通过从每个域对其他域中的资源的访问。 也是不可传递，仅在两个信任合作伙伴域之间或可传递存在大小写的信任关系，在这种情况下信任自动扩展到任何其他两个伙伴信任的域信任。

有关信任的工作原理的信息，请参阅[如何域和林信任工作](https://technet.microsoft.com/library/cc773178(v=ws.10).aspx)。

### <a name="protocol-transition"></a>协议转换
协议转换通过让应用程序支持用户身份验证层的不同身份验证机制，通过切换到安全功能，例如相互身份验证的 Kerberos 协议有助于应用程序设计器和在后面的应用程序层中的约束的委派。

有关协议转换的详细信息，请参阅[Kerberos 协议转换和约束委派](https://technet.microsoft.com/library/cc758097(v=ws.10).aspx)。

### <a name="constrained-delegation"></a>约束的委派
受约束的委派使管理员能够指定和加强应用程序信任边界通过限制应用程序服务可以代表用户的作用域。 您可以指定受信任可以进行委派的计算机可以从中请求资源的特定服务。 灵活地限制服务的授权权限，可帮助提高应用程序安全设计的不受信任的服务降低泄漏的机会。

约束委派的详细信息，请参阅[Kerberos 约束委派概述](../kerberos/kerberos-constrained-delegation-overview.md)。

## <a name="see-also"></a>请参阅
[Windows 登录和身份验证技术概述](https://technet.microsoft.com/library/dn269029.aspx)


