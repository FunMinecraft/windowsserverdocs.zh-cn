---
Title: 在 Active Directory 中配置群集帐户
ms.date: 11/12/2012
ms.prod: windows-server-threshold
ms.technology: storage-failover-clustering
author: JasonGerend
manager: elizapo
ms.author: jgerend
ms.openlocfilehash: 454783a13b834ef705bd896155195750de2b183c
ms.sourcegitcommit: 4ff3d00df3148e4bea08056cea9f1c3b52086e5d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/28/2019
ms.locfileid: "64772713"
---
# <a name="configuring-cluster-accounts-in-active-directory"></a>在 Active Directory 中配置群集帐户


适用于：Windows Server 2019、 Windows Server 2016、 Windows Server 2012 R2、 Windows Server 2012、 Windows Server 2008 R2 和 Windows Server 2008

在 Windows Server 中，在创建故障转移群集和配置群集的服务或应用程序，故障转移群集向导创建必要的 Active Directory 计算机帐户 （也称为计算机对象） 并为他们授予特定权限。 在向导创建的例外是 HYPER-V 虚拟机 （此帐户也称为群集名称对象或 CNO） 的计算机帐户用于群集自身和大多数类型的群集的服务和应用程序的计算机帐户。 通过故障转移群集向导自动设置这些帐户的权限。 如果权限更改，它们将需要更改回以满足群集要求。 此指南介绍了这些 Active Directory 帐户和权限、 提供有关背景，为什么很重要，并介绍了用于配置和管理帐户的步骤。
      

## <a name="overview-of-active-directory-accounts-needed-by-a-failover-cluster"></a>Active Directory 帐户所需的故障转移群集概述

本部分介绍的 Active Directory 计算机帐户 （也称为 Active Directory 计算机对象） 对故障转移群集而言非常重要。 这些帐户如下所示：

  - **用于创建群集的用户帐户。** 这是用于启动创建群集向导的用户帐户。 该帐户很重要，因为它为群集本身提供从其创建计算机帐户的基础。  
      
  - **群集名称帐户。** （群集本身的计算机帐户也称为群集名称对象或 CNO）。 此帐户由创建群集向导自动创建，并且具有与群集相同的名称。 群集名称帐户是非常重要，因为通过此帐户的其他帐户会自动创建如在群集上配置新的服务和应用程序。 如果删除群集名称帐户或权限占用它，其他帐户不能创建为所需的群集，直到还原群集名称帐户或正确的权限会恢复。  
      
    例如，如果您创建名为 Cluster1 的群集，然后再尝试配置群集打印服务器在群集上调用 PrintServer1，Active Directory 中的 Cluster1 帐户将需要保留正确的权限，以便它可以用于创建一台计算机名为 PrintServer1 的帐户。  
      
    群集名称帐户是 Active Directory 中的计算机帐户的默认容器中创建的。 默认情况下，这是"计算机"容器，但域管理员可以选择将其重定向到另一个容器或组织单位 (OU)。  
      
  - **群集的服务或应用程序的计算机帐户 （计算机对象）。** 高可用性向导创建的群集的服务或应用程序，例外是 HYPER-V 虚拟机的大多数类型的过程的一部分自动创建这些帐户。 群集名称帐户授予必要的权限来控制这些帐户。  
      
    例如，如果具有名为 Cluster1 的群集，然后创建名为 FileServer1 的群集的文件服务器高可用性向导将创建名为 FileServer1 Active Directory 计算机帐户。 高可用性向导还为 Cluster1 帐户提供必要的权限来控制 FileServer1 帐户。  
      

下表描述这些帐户所需的权限。


<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>帐户</th>
<th>有关权限的详细信息</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>用于创建群集的帐户</p></td>
<td><p>需要将成为群集节点的服务器上的管理权限。 此外需要<strong>创建计算机对象</strong>并<strong>读取所有属性</strong>中使用的域中的计算机帐户的容器的权限。</p></td>
</tr>
<tr class="even">
<td><p>群集名称帐户 （群集自身的计算机帐户）</p></td>
<td><p>运行创建群集向导时，它用于在域中的计算机帐户的默认容器中创建的群集名称帐户。 默认情况下，群集名称帐户 （如其他计算机帐户） 可以在域中创建最多十个计算机帐户。</p>
<p>如果在创建群集之前创建的群集名称帐户 （群集名称对象） — 即预配置帐户，必须为其提供<strong>创建计算机对象</strong>和<strong>读取所有属性</strong>用于在域中的计算机帐户的容器中的权限。 您还必须禁用该帐户，让<strong>完全控制</strong>的到安装此群集的管理员将使用的帐户。 有关详细信息，请参阅[名称帐户的预配置群集的步骤](#steps-for-prestaging-the-cluster-name-account)，本指南中更高版本。</p></td>
</tr>
<tr class="odd">
<td><p>群集的服务或应用程序的计算机帐户</p></td>
<td><p>高可用性向导时运行 （若要创建新的群集的服务或应用程序），在大多数情况下，群集服务的计算机帐户或 Active Directory 中创建应用程序。 群集名称帐户授予必要的权限来控制此帐户。 例外情况是群集的 HYPER-V 虚拟机： 为此创建没有计算机帐户。</p>
<p>如果你预安排群集的服务或应用程序的计算机帐户，必须将其配置与所需的权限。 有关详细信息，请参阅[预安排群集的服务或应用程序的帐户的步骤](#steps-for-prestaging-an-account-for-a-clustered-service-or-application)，本指南中更高版本。</p></td>
</tr>
</tbody>
</table>


> [!NOTE]
> 在早期版本的 Windows Server，没有用于群集服务的帐户。 自 Windows Server 2008，但是，群集服务中自动运行一个提供的特定权限和服务所需权限的特殊上下文 (类似于本地系统上下文中，但权限减少)。 需要其他帐户，但是，本指南中所述。 
<br>


### <a name="how-accounts-are-created-through-wizards-in-failover-clustering"></a>如何通过故障转移群集中的向导创建帐户

下图演示了使用和创建计算机帐户 （Active Directory 对象） 的上一小节中所述。 这些帐户时需考虑管理员身份运行创建群集向导，然后运行高可用性向导 （若要配置的群集的服务或应用程序）。

![](media/configure-ad-accounts/Cc731002.e8a7686c-9ba8-4ddf-87b1-175b7b51f65d(WS.10).gif)

请注意，上图显示了一个管理员运行创建群集向导和高可用性向导。 但是，这可能是两个不同的管理员使用两个不同的用户帐户，如果这两个帐户具有足够的权限。 在故障转移群集、 Active Directory 域和帐户，在本指南后面与相关的要求的更详细地描述的权限。

### <a name="how-problems-can-result-if-accounts-needed-by-the-cluster-are-changed"></a>如果群集所需的帐户都将更改如何可能会出现问题

下图说明了如何可能会出现问题，如果在创建群集向导会自动创建后更改群集名称帐户 （由群集所需的帐户之一）。

![](media/configure-ad-accounts/Cc731002.beecc4f7-049c-4945-8fad-2cceafd6a4a5(WS.10).gif)

发生在关系图中所示的问题的类型时，在某个事件 （1193年、 1194年、 1206 或 1207年） 记录在事件查看器。 有关这些事件的详细信息，请参阅[ http://go.microsoft.com/fwlink/?LinkId=118271 ](http://go.microsoft.com/fwlink/?linkid=118271)。

请注意，是否达到创建计算机对象 （默认为 10） 的全域性配额，则可以出现类似问题创建的群集的服务或应用程序的帐户。 如果是，可能需要以域管理员联系，尽管这是全域性设置，仅在仔细考虑后，而且在确认上图中不应更改增加配额，请咨询描述您的具体情况。 有关详细信息，请参阅[与群集相关 Active Directory 帐户中的更改所造成的故障排除步骤](#steps-for-troubleshooting-problems-caused-by-changes-in-cluster-related-active-directory-accounts)，在本指南后面。

## <a name="requirements-related-to-failover-clusters-active-directory-domains-and-accounts"></a>与故障转移群集、 Active Directory 域和帐户相关的要求

如前面的三个部分中所述，群集服务之前必须满足某些要求和应用程序可以成功故障转移群集上配置。 最基本要求与群集节点 （在单一域） 的位置和安装此群集的用户的帐户的权限级别。 如果满足这些要求后，群集所需的其他帐户可以通过故障转移群集向导自动创建。 以下列表提供了有关这些基本要求的详细信息。

  - **节点：** 所有节点必须都位于同一 Active Directory 域。 （域不能基于 Windows NT 4.0 中，这不包括 Active Directory。）  
      
  - **安装此群集的用户的帐户：** 安装此群集的人员使用的帐户必须具有以下特征：  
      
      - 该帐户必须是域帐户。 它不必是域管理员帐户。 如果它满足此列表中的其他要求，它可以是域用户帐户。  
          
      - 该帐户必须在将成为群集节点的服务器上具有管理权限。 提供此功能的最简单方法是创建域用户帐户，并将该帐户添加到每台服务器将成为群集节点上的本地管理员组。 有关详细信息，请参阅[安装此群集的人员配置帐户的步骤](#steps-for-configuring-the-account-for-the-person-who-installs-the-cluster)，本指南中更高版本。  
          
      - 必须授予该帐户 （或该帐户的成员的组）**创建计算机对象**并**读取所有属性**中使用的域中的计算机帐户的容器的权限。 另一种方法是使域管理员帐户的帐户。 有关详细信息，请参阅[安装此群集的人员配置帐户的步骤](#steps-for-configuring-the-account-for-the-person-who-installs-the-cluster)，本指南中更高版本。  
          
      - 如果你的组织选择预安排群集名称帐户 （与群集同名的计算机帐户），预安排的群集名称帐户必须授予"完全控制"权限授予帐户安装此群集的人员。 有关如何预安排群集名称帐户的其他重要详细信息，请参阅[名称帐户的预配置群集的步骤](#steps-for-prestaging-the-cluster-name-account)，本指南中更高版本。  
          

### <a name="planning-ahead-for-password-resets-and-other-account-maintenance"></a>提前规划重置密码和其他帐户维护

故障转移群集的管理员有时可能需要重置群集名称帐户的密码。 此操作需要特定权限**重置密码**权限。 因此，它是最佳做法 （通过使用 Active Directory 用户和计算机管理单元中） 编辑群集名称帐户的权限以使群集的管理员**重置密码**群集的权限帐户名称。 有关详细信息，请参阅[名称帐户的步骤进行故障排除与群集的密码问题](#steps-for-troubleshooting-password-problems-with-the-cluster-name-account)，本指南中更高版本。

## <a name="steps-for-configuring-the-account-for-the-person-who-installs-the-cluster"></a>安装此群集的人员配置帐户的步骤

安装此群集的人员的帐户非常重要，因为它为群集本身提供从其创建计算机帐户的基础。

完成以下过程所需的最低组成员身份取决于是否创建域帐户并将其分配所需的权限在域中，或是否仅放置到的帐户 （由其他人创建）本地**管理员**组将故障转移群集中的节点的服务器上。 如果在以前，成员资格**Account Operators**或**Domain Admins**，或等效身份是完成此过程所需的最小。 如果在本地的后一种，成员身份**管理员**上将故障转移群集中的节点的服务器组或同等身份是只需要。 查看详细了解如何使用适当帐户和组成员身份[ http://go.microsoft.com/fwlink/?LinkId=83477 ](http://go.microsoft.com/fwlink/?linkid=83477)。

#### <a name="to-configure-the-account-for-the-person-who-installs-the-cluster"></a>若要安装此群集的人员配置帐户

1.  创建或获取安装在群集的人员的域帐户。 此帐户可以是域用户帐户或域管理员帐户 (在**Domain Admins**或等效组)。

2.  如果已创建或在步骤 1 中的帐户是域用户帐户，或你的域中的域管理员帐户不自动包含在本地**管理员**组在域中的计算机上，添加帐户添加到本地**管理员**组将故障转移群集中的节点的服务器上：
    
    1.  依次单击“开始” 、“管理工具” 和“服务器管理器” 。  
          
    2.  在控制台树中，展开**配置**，展开**本地用户和组**，然后展开**组**。  
          
    3.  在中心窗格中，右键单击**管理员**，单击**将添加到组**，然后单击**添加**。  
          
    4.  下**输入要选择的对象名称**，键入在步骤 1 中创建或获取的用户帐户的名称。 如果系统提示，请输入的帐户名和密码具有足够的权限，此操作。 然后单击“确定”。  
          
    5.  重复这些步骤将作为故障转移群集中节点的每个服务器上。  
          
    

> [!IMPORTANT]
> 必须将群集中的节点的所有服务器上重复执行这些步骤。 
<br>


3.  如果已创建或在步骤 1 中的帐户是域管理员帐户，请跳过此过程的其余部分。 否则，为帐户提供**创建计算机对象**并**读取所有属性**中使用的域中的计算机帐户的容器的权限：
    
    1.  在域控制器上，单击**启动**，单击**管理工具**，然后单击**Active Directory 用户和计算机**。 如果出现“用户帐户控制”对话框，请确认它显示的是所需操作，然后单击“继续”。  
          
    2.  上**视图**菜单中，请确保**高级功能**处于选中状态。  
          
        当**高级功能**已选中，您可以看到**安全**选项卡中的帐户 （对象） 的属性中**Active Directory 用户和计算机**。  
          
    3.  右键单击默认值**计算机**容器或默认容器在哪台计算机帐户在域中创建，然后单击**属性**。 **计算机**位于<b>Active Directory 用户和计算机 /</b><i>域节点</i><b>/Computers</b>。  
          
    4.  在“安全”  选项卡中，单击“高级” 。  
          
    5.  单击**外**，键入在步骤 1 中，已创建或获取的帐户的名称，然后单击**确定**。  
          
    6.  在 **的权限条目 * * * 容器*对话框框中，找到**创建计算机对象**并**读取所有属性**权限，并确保选中**允许**为每个选中复选框。  
          
        ![](media/configure-ad-accounts/Cc731002.0a863ac5-2024-4f9f-8a4d-a419aff32fa0(WS.10).gif)

## <a name="steps-for-prestaging-the-cluster-name-account"></a>预安排群集名称帐户的步骤

如果未预安排群集名称帐户，但是反而允许创建和运行创建群集向导时自动配置的帐户，则通常更简单。 但是，如果需要预留群集名称帐户由于在组织中的要求，使用以下过程。

**Domain Admins** 组中的成员身份或同等身份是完成此过程所需的最低要求。 查看详细了解如何使用适当帐户和组成员身份[ http://go.microsoft.com/fwlink/?LinkId=83477 ](http://go.microsoft.com/fwlink/?linkid=83477)。 请注意可以对此步骤都使用相同的帐户作为创建群集时将使用。

#### <a name="to-prestage-a-cluster-name-account"></a>预安排群集名称帐户

1.  请确保知道群集将具有，名称和创建群集的人员将使用的用户帐户的名称。 （请注意，您可以使用该帐户才能执行此过程。）

2.  在域控制器上，单击**启动**，单击**管理工具**，然后单击**Active Directory 用户和计算机**。 如果出现“用户帐户控制”对话框，请确认它显示的是所需操作，然后单击“继续”。

3.  在控制台树中，右键单击**计算机**或在哪台计算机帐户都在你的域创建的默认容器。 **计算机**位于<b>Active Directory 用户和计算机 /</b><i>域节点</i><b>/Computers</b>。

4.  单击**新建**，然后单击**计算机**。

5.  键入将用于故障转移群集中，即名称、 群集名称，将指定在创建群集向导中，然后单击**确定**。

6.  右键单击您刚的帐户创建，然后依次**禁用帐户**。 如果系统提示您确认您的选择，请单击**是**。
    
    必须禁用该帐户，以便当**创建群集**运行向导时，它可以确认将用于该群集的帐户当前未使用的现有计算机或域中的群集。

7.  上**视图**菜单中，请确保**高级功能**处于选中状态。
    
    当**高级功能**已选中，您可以看到**安全**选项卡中的帐户 （对象） 的属性中**Active Directory 用户和计算机**。

8.  右键单击您在步骤 3 中，右键单击文件夹，然后单击**属性**。

9.  在“安全”  选项卡中，单击“高级” 。

10. 单击**外**，单击**对象类型**并确保选中**计算机**已选择，然后单击**确定**。 然后，在**输入要选择的对象名称**，键入创建的您只是计算机帐户的名称，然后单击**确定**。 如果出现一条消息，指出您是否要添加已禁用的对象，请单击**确定**。

11. 在**权限条目**对话框框中，找到**创建计算机对象**并**读取所有属性**权限，并确保选中**允许**为每个选中复选框。
    
    ![](media/configure-ad-accounts/Cc731002.f5977c4d-a62e-4b17-81e3-8c19ddca2078(WS.10).gif)

12. 单击**确定**直到已返回到**Active Directory 用户和计算机**管理单元中。

13. 如果使用同一帐户来执行此过程，如将用于创建群集，请跳过其余步骤。 否则，必须配置权限，以便将用于创建群集的用户帐户具有完全控制你刚刚创建的计算机帐户：
    
    1.  上**视图**菜单中，请确保**高级功能**处于选中状态。  
          
    2.  右键单击您刚的计算机帐户创建，然后依次**属性**。  
          
    3.  在“安全”选项卡上，单击“添加”。 如果出现“用户帐户控制”对话框，请确认它显示的是所需操作，然后单击“继续”。  
          
    4.  使用**选择用户、 计算机或组**对话框可以指定将在创建群集时使用的用户帐户。 然后单击“确定”。  
          
    5.  请确保选择刚添加的用户帐户，然后，旁边**完全控制**，选择**允许**复选框。  
          
        ![](media/configure-ad-accounts/Cc731002.fffaafe2-a494-498b-974c-8f9d70f7103b(WS.10).gif)

## <a name="steps-for-prestaging-an-account-for-a-clustered-service-or-application"></a>预安排群集的服务或应用程序的帐户的步骤

如果不预配置计算机帐户的群集的服务或应用程序，但是反而允许创建和运行高可用性向导时自动配置的帐户，则通常更简单。 但是，如果需要预留帐户由于在组织中的要求，使用以下过程。

中的成员身份**Account Operators**组或等效身份是完成此过程所需的最低。 查看详细了解如何使用适当帐户和组成员身份[ http://go.microsoft.com/fwlink/?LinkId=83477 ](http://go.microsoft.com/fwlink/?linkid=83477)。

#### <a name="to-prestage-an-account-for-a-clustered-service-or-application"></a>预安排群集的服务或应用程序的帐户

1.  请确保知道群集的名称和群集的服务或应用程序将具有名称。

2.  在域控制器上，单击**启动**，单击**管理工具**，然后单击**Active Directory 用户和计算机**。 如果出现“用户帐户控制”对话框，请确认它显示的是所需操作，然后单击“继续”。

3.  在控制台树中，右键单击**计算机**或在哪台计算机帐户都在你的域创建的默认容器。 **计算机**位于<b>Active Directory 用户和计算机 /</b><i>域节点</i><b>/Computers</b>。

4.  单击**新建**，然后单击**计算机**。

5.  键入的名称，将使用群集的服务或应用程序，然后依次**确定**。

6.  上**视图**菜单中，请确保**高级功能**处于选中状态。
    
    当**高级功能**已选中，您可以看到**安全**选项卡中的帐户 （对象） 的属性中**Active Directory 用户和计算机**。

7.  右键单击您刚的计算机帐户创建，然后依次**属性**。

8.  在“安全”选项卡上，单击“添加”。

9.  单击**对象类型**并确保选中**计算机**已选择，然后单击**确定**。 然后，在**输入要选择的对象名称**，键入群集名称帐户，然后单击**确定**。 如果出现一条消息，指出您是否要添加已禁用的对象，请单击**确定**。

10. 请确保选择群集名称帐户，然后，旁边**完全控制**，选择**允许**复选框。
    
    ![](media/configure-ad-accounts/Cc731002.2e614376-87a6-453a-81ba-90ff7ebc3fa2(WS.10).gif)

## <a name="steps-for-troubleshooting-problems-related-to-accounts-used-by-the-cluster"></a>排查问题与群集所用的帐户相关的问题的步骤

在本指南前面部分中所述，创建故障转移群集和配置群集的服务或应用程序时，故障转移群集向导创建必要的 Active Directory 帐户，并为他们提供正确的权限。 如果所需的帐户被删除，或者更改必要的权限，则会导致问题。 以下各小节提供用于解决这些问题的步骤。

  - [群集名称帐户的密码问题故障排除步骤](#steps-for-troubleshooting-password-problems-with-the-cluster-name-account)
      
  - [在与群集相关 Active Directory 帐户中的更改所造成的故障排除的步骤](#steps-for-troubleshooting-problems-caused-by-changes-in-cluster-related-active-directory-accounts)
      

### <a name="steps-for-troubleshooting-password-problems-with-the-cluster-name-account"></a>群集名称帐户的密码问题故障排除步骤

如果没有相关的计算机对象或包含以下文本的群集标识有关的事件消息，请使用此过程。 请注意，此文本将在事件消息中，不是在事件消息的开头：

`Logon failure: unknown user name or bad password.`

为符合前面的描述事件消息指示群集名称帐户的密码和对应的密码存储的聚类分析的软件不再匹配。

有关如何确保群集管理员能够根据需要执行以下步骤的正确权限的信息，请参阅规划继续用于重置密码和其他帐户维护，本指南前面部分中。

必须至少具有本地 **Administrators** 组中的成员身份或同等身份才能完成此过程。 此外，必须提供你的帐户**重置密码**群集名称帐户的权限 (除非你的帐户，否则**Domain Admins**帐户，或群集名称帐户的创建者所有者)。 对于此过程可由安装在群集的人的帐户。 查看详细了解如何使用适当帐户和组成员身份[ http://go.microsoft.com/fwlink/?LinkId=83477 ](http://go.microsoft.com/fwlink/?linkid=83477)。

#### <a name="to-troubleshoot-password-problems-with-the-cluster-name-account"></a>若要对群集名称帐户的密码问题进行故障排除

1.  若要打开故障转移群集管理单元，请依次单击“开始”、“管理工具”，然后单击“故障转移群集管理”。 (如果**用户帐户控制**出现对话框，请确认它显示的操作是您想要，然后单击**继续**。)

2.  在故障转移群集管理单元中，如果未显示出要配置的群集，则在控制台树中，右键单击“故障转移群集管理”、单击“管理群集”，然后选择或指定所需群集。

3.  在中心窗格中，展开**群集核心资源**。

4.  下**群集名称**，右键单击**名称**项，指向**更多操作**，然后单击**修复 Active Directory 对象**。

### <a name="steps-for-troubleshooting-problems-caused-by-changes-in-cluster-related-active-directory-accounts"></a>在与群集相关 Active Directory 帐户中的更改所造成的故障排除的步骤

如果群集名称帐户被删除或者权限占用它，如果当你尝试配置新的群集的服务或应用程序时，则会发生问题。 若要解决的问题，这可能是引起的请使用 Active Directory 用户和计算机管理单元中查看或更改群集名称帐户和其他相关帐户。 有关此类问题发生 （事件 1193年、 1194年、 1206 或 1207年），请参阅时记录的事件信息[ http://go.microsoft.com/fwlink/?LinkId=118271 ](http://go.microsoft.com/fwlink/?linkid=118271)。

**Domain Admins** 组中的成员身份或同等身份是完成此过程所需的最低要求。 查看详细了解如何使用适当帐户和组成员身份[ http://go.microsoft.com/fwlink/?LinkId=83477 ](http://go.microsoft.com/fwlink/?linkid=83477)。

#### <a name="to-troubleshoot-problems-caused-by-changes-in-cluster-related-active-directory-accounts"></a>若要对群集相关的 Active Directory 帐户中的更改所导致的问题进行故障排除

1.  在域控制器上，单击**启动**，单击**管理工具**，然后单击**Active Directory 用户和计算机**。 如果出现“用户帐户控制”对话框，请确认它显示的是所需操作，然后单击“继续”。

2.  展开默认**计算机**容器或群集名称帐户 （群集的计算机帐户） 所在的文件夹。 **计算机**位于<b>Active Directory 用户和计算机 /</b><i>域节点</i><b>/Computers</b>。

3.  检查群集名称帐户的图标。 它必须对其具有向下箭头，也就是说，不能禁用该帐户。 如果它显示为已禁用，右键单击它，并查找命令**启用帐户**。 如果您看到的命令，请单击它。

4.  上**视图**菜单中，请确保**高级功能**处于选中状态。
    
    当**高级功能**已选中，您可以看到**安全**选项卡中的帐户 （对象） 的属性中**Active Directory 用户和计算机**。

5.  右键单击默认值**计算机**容器或群集名称帐户所在的文件夹。

6.  单击**属性**。

7.  在“安全”  选项卡中，单击“高级” 。

8.  在具有权限的帐户列表中，单击群集名称帐户，然后依次**编辑**。
    

> [!NOTE]
> 如果未列出的群集名称帐户，请单击<STRONG>添加</STRONG>并将其添加到列表。 
<br>


9.  对于群集名称帐户 （也称为群集名称对象或 CNO），请确保**允许**选择了**创建计算机对象**并**读取所有属性**权限。
    
    ![](media/configure-ad-accounts/Cc731002.f5977c4d-a62e-4b17-81e3-8c19ddca2078(WS.10).gif)

10. 单击**确定**直到已返回到**Active Directory 用户和计算机**管理单元中。

11. 查看域策略 （如果适用的域管理员咨询） 与计算机帐户 （对象） 的创建。 请确保群集名称帐户，可以创建每次配置群集的服务或应用程序的计算机帐户。 例如，如果您的域管理员已配置设置会导致所有新的计算机帐户中的专用的容器而不是默认值创建**计算机**容器，请确保这些设置允许群集名称帐户还在该容器中创建新的计算机帐户。

12. 展开默认**计算机**容器或其中一个群集的服务或应用程序的计算机帐户所在的容器。

13. 右键单击群集的服务或应用程序之一的计算机帐户，然后单击**属性**。

14. 上**安全**选项卡上，确认群集名称帐户已列出的权限，并选择该帐户中。 确认群集名称帐户具有**完全控制**权限 (**允许**复选框处于选中状态)。 如果不存在，将群集名称帐户添加到列表并为其提供**完全控制**权限。
    
    ![](media/configure-ad-accounts/Cc731002.2e614376-87a6-453a-81ba-90ff7ebc3fa2(WS.10).gif)

15. 对每个群集的服务和群集中配置应用程序重复步骤 13 至 14 日。

16. 检查，（默认为 10） 创建计算机对象的全域性配额尚未达到 （咨询与域管理员如果适用）。 如果在此过程中的上一项所有已查看并更正，并且已达到配额，请考虑增加配额。 若要更改配额：
    
    1.  打开命令提示符以管理员身份运行**ADSIEdit.msc**。  
          
    2.  右键单击**ADSI Edit**，单击**连接到**，然后单击**确定**。 **默认命名上下文**添加到控制台树中。  
          
    3.  双击**默认命名上下文**，右键单击它，下面的域对象，然后单击**属性**。  
          
    4.  滚动到**ms DS MachineAccountQuota**，选择它，单击**编辑**，将值更改，然后单击**确定**。

