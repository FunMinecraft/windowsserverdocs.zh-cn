---
title: copy
description: 'Windows 命令主题 * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 9624d4a1-349a-4693-ad00-1d1d4e59e9ac
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: d593fbdbffd2a5ee4e4dfb4a817ad4708162160a
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/17/2019
ms.locfileid: "59853768"
---
# <a name="copy"></a>copy



将一个或多个文件从一个位置复制到另一个。

有关如何使用此命令的示例，请参阅[示例](#BKMK_examples)。

## <a name="syntax"></a>语法

```
copy [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] <Source> [/a | /b] [+<Source> [/a | /b] [+ ...]] [<Destination> [/a | /b]]
```

## <a name="parameters"></a>Parameters

|参数|描述|
|---------|-----------|
|/d|允许复制另存为解密的文件的目标处的加密的文件。|
|/v|验证正确写入新文件。|
|/n|复制名称长度超过 8 个字符，或者长度超过三个字符的文件扩展名的文件时，如果可用，请使用短文件名。|
|/y|禁止提示确认你想要覆盖现有目标文件。|
|/-y|提示你确认你想要覆盖现有目标文件。|
|/z|复制网络的文件，可重新启动模式。|
|/a|指示一个 ASCII 文本文件。|
|/b|指示二进制文件。|
|\<源 >|必需。 指定要从中复制文件或一组文件的位置。 *源*可以包含驱动器号和冒号、 目录名称、 文件名或这些项的组合。|
|\<目标 >|必需。 指定你想要复制文件或一组文件的位置。 *目标*可以包含驱动器号和冒号、 目录名称、 文件名或这些项的组合。|
|/?|在命令提示符下显示帮助。|

## <a name="remarks"></a>备注

-   可以复制文件尾字符 (CTRL + Z) 用于指示文件尾的 ASCII 文本文件。
-   使用  **/a**

    当 **/a**与其前后列表的命令行上的文件，它适用于之前列出的所有文件**副本**遇到**b </b**。 在这种情况下， **/b**适用于上述文件**b </b**。

    效果 **/a**取决于其命令行字符串中的位置。 当 **/a**遵循*源*，**复制**文件视为一个 ASCII 文件，并将位于第一个文件尾字符 (CTRL + Z) 的数据复制。

    当 **/a**遵循*目标*，**复制**添加文件尾字符 (CTRL + Z) 作为该文件的最后一个字符。
-   使用  **/b**

    **b </b**指示命令解释器在读取指定的目录中的文件大小的字节数。 **/b**是默认值**副本**，除非**副本**组合文件。

    当**b </b**与其前后列表的命令行上的文件，它适用于所有列出的文件之前**副本**遇到 **/a**。 在这种情况下， **/a**适用于上述文件 **/a**。

    效果**b </b**取决于其命令行字符串中的位置。 当**b </b**遵循*源*，**复制**将复制整个文件，包括任何文件尾字符 (CTRL + Z)。

    当 **/b**遵循*目标*，**复制**不会添加一个文件尾字符 (CTRL + Z)。
-   使用 **/v**

    如果不能将显示错误消息已验证写入操作。 尽管使用很少发生记录错误**副本**，可以使用 **/v**以验证是否已正确记录关键数据。 **/V**命令行选项还会降低**副本**命令，因为必须检查记录在磁盘上每个扇区。
-   使用 **/y**和  **/y**

    如果 **/y**预设在 COPYCMD 环境变量中，可以替代此设置，通过使用 **/y**在命令行。 默认情况下，系统会提示时，将此设置，除非**复制**批处理脚本中执行命令。
-   追加文件

    若要附加文件，请指定单个文件，以便*目标*，但多个文件，以*源*(使用通配符或*File1* + *File2*+*File3*格式)。
-   使用 **/z**

    如果连接丢失 （例如，如果服务器脱机断开的连接），在复制阶段**复制 /z**后重新建立连接后恢复。 **/z**还会显示每个文件完成复制操作的百分比。
-   向 / 从设备复制

    你可以替换的一个或多个匹配项的设备名称*源*或*目标*。
-   使用或省略**b </b**复制到设备时

    当*目标*是一种设备 （例如，Com1 或 Lpt1） **b </b**将数据复制到在二进制模式下的设备。 在二进制模式下**复制/b**将所有字符 （包括特殊字符，如 CTRL + C、 CTRL + S、 CTRL + Z 和 enter 键） 都复制到该设备是数据。 但是，如果省略**b </b**，数据复制到在 ASCII 模式下的设备。 在 ASCII 模式下，特殊字符可能会导致文件在复制过程中合并。
-   使用默认目标文件

    如果不指定目标文件，副本具有相同名称创建、 修改日期，和修改时间与原始文件。 新的副本存储在当前驱动器上的当前目录。 如果源文件在当前驱动器并在当前目录中而不指定不同的驱动器或目标文件目录**复制**命令停止并显示以下错误消息：

    `File cannot be copied onto itself`

    `0 File(s) copied`
-   合并文件

    如果指定多个文件中的*源*，**副本**将它们合并到单个文件使用中指定的文件名称的所有*目标*。 **复制**假定已合并的文件的 ASCII 文件，除非使用**b </b**选项。
-   将长度为零的文件复制

    **复制**不会复制 0 字节长度的文件。 使用**xcopy**复制这些文件。
-   更改文件的日期和时间

    如果你想要分配的当前时间和日期设置为一个文件而无需修改该文件，使用以下语法：  
    ```
    copy /b <Source> +,,
    ```  
    逗号指示省略*目标*参数。
-   将文件复制子目录中

    若要复制的所有目录的文件和子目录，使用**xcopy**命令。
-   **复制**命令，使用不同的参数，可从恢复控制台。

## <a name="BKMK_examples"></a>示例

若要复制到 Letter.doc Memo.doc 名当前驱动器中的文件，并确保文件尾字符 (CTRL + Z) 复制的文件结尾处，键入：
```
copy memo.doc letter.doc /a
```
要复制到名为鸟位于驱动器 C 的现有目录名 Robin.typ 为从当前驱动器和目录的文件，请键入：
```
copy robin.typ c:\birds
```
文件 Robin.typ 鸟目录不存在，如果将复制到名为鸟位于驱动器 c。 在磁盘上的根目录中的文件

若要结合使用 Mar89.rpt、 Apr89.rpt 和 May89.rpt，这位于当前目录，并将其放在名为 （也在当前目录） 的报表的文件中，键入：
```
copy mar89.rpt + apr89.rpt + may89.rpt Report
```
在合并的文件，**复制**将标记与当前日期和时间的目标文件。 如果省略*目标*，这些文件是结合使用，并且存储在列表中的第一个文件的名称下。 例如，若要组合报表中的所有文件的文件的命名报表已存在时，请键入：
```
copy report + mar89.rpt + apr89.rpt + may89.rpt
```
若要合并到单个文件命名 Combined.doc the.txt 文件扩展名的所有文件在当前目录中，键入：
```
copy *.txt Combined.doc 
```
如果你想要将多个二进制文件合并到一个文件，通过使用通配符字符，包括**b </b**。 这会阻止 Windows CTRL + Z 视为文件尾字符。 例如，键入：
```
copy /b *.exe Combined.exe
```

> [!CAUTION]
> 如果合并二进制文件，生成的文件可能是因为内部格式而不可用。

在以下示例中，**复制**结合了每个具有与其相应的.ref 文件扩展名为.txt 的文件。 结果是具有相同的文件名称但扩展名为.doc 的文件。 **复制**将使用 File1.ref File1.txt 合并到窗体 File1.doc，，然后**复制**File2.txt 结合 File2.ref 到窗体 File2.doc，依次类推。 例如，键入：
```
copy *.txt + *.ref *.doc
```
要合并所有文件，带.txt 扩展名，然后将所有文件扩展名.ref 都都组合到一个文件中名为 Combined.doc，键入：
```
copy *.txt + *.ref Combined.doc
```

#### <a name="additional-references"></a>其他参考

[命令行语法解答](command-line-syntax-key.md)