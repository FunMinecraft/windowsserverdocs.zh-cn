---
title: 设置
description: 'Windows 命令主题 * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 5fdd60d6-addf-4574-8c92-8aa53fa73d76
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: ece1581bad3d78add93a5bac2c4331ebc5240eef
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/17/2019
ms.locfileid: "59882128"
---
# <a name="set"></a>设置



显示、 设置，或删除 cmd。EXE 环境变量。 如果使用不带参数，**设置**显示当前的环境变量设置。

有关如何使用此命令的示例，请参阅[示例](#BKMK_examples)。

## <a name="syntax"></a>语法

```
set [<Variable>=[<String>]]
set [/p] <Variable>=[<PromptString>]
set /a <Variable>=<Expression>
```

## <a name="parameters"></a>Parameters

|参数|描述|
|---------|-----------|
|\<变量 >|指定要设置或修改的环境变量。|
|\<String>|指定要与指定的环境变量相关联的字符串。|
|/p|设置的值*变量*到的用户输入的输入行。|
|\<PromptString>|可选。 指定一条消息，提示用户输入。 此参数用于 **/p**命令行选项。|
|/a|集*字符串*为数值表达式求值。|
|\<表达式 >|指定数值表达式。 有关可以使用中的有效运算符，请参见备注*表达式*。|
|/?|在命令提示符下显示帮助。|

## <a name="remarks"></a>备注

-   使用**设置**启用了命令扩展

    启用了命令扩展 （默认值），并且您运行**设置**值时，它将显示所有的值开头的变量。
-   使用特殊字符

    字符**<**， **>**， **|**， **&**， **^** 特殊命令 shell 个字符，并且必须在加转义符 (**^**) 或括在引号中使用时*字符串*(例如， **"StringContaining & 符号"**)。 如果使用引号括起包含一个特殊字符的字符串，单引号会设置为环境变量值的一部分。
-   使用环境变量

    使用环境变量来控制某些批处理文件和程序的行为，来控制方式 Windows 和 MS-DOS 子系统将显示和工作。 **设置**命令通常用于 Autoexec.nt 文件中设置环境变量。
-   显示当前的环境设置

    当您键入**设置**、 单独命令将显示当前的环境设置。 这些设置通常包括 COMSPEC 和路径环境变量，这些信息用于帮助查找磁盘上的程序。 使用 Windows 的其他两个环境变量是提示符和 DIRCMD。
-   使用参数

    当指定的值*变量*并*字符串*，指定*变量*值添加到环境并*字符串*是与该变量相关联。 如果在环境中已存在该变量，新的字符串值将替换旧的字符串值。

    如果指定只有一个变量和一个等号 (而无需*字符串*) 用于**设置**命令，*字符串*（就像该变量是清除与变量关联的值不存在）。
-   使用  **/a**

    下表列出了支持的运算符 **/a**以降序优先级。  
    |运算符|执行操作|
    |--------|-------------------|
    |( )|分组|
    |！ ~ -|一元|
    |* / %|算术运算|
    |+ -|算术运算|
    |<< >>|逻辑移位|
    |&|位与|
    |^|按位异或|
    |||按位 OR 运算符|
    |= *= /= %= += -= &= ^= |= <<= >>=|分配|
    |，|表达式分隔符|

    如果使用逻辑 (**&&** 或**||**) 或取模 (**%**) 运算符的表达式字符串用引号引起来。 在表达式中的任何非数字字符串被视为环境变量名称，其值进行处理之前被转换为数字。 如果指定未在当前环境中定义的环境变量名，所分配的值为零，这使您能够使用环境变量值的算术运算而无需使用 %中检索值。

    如果在运行**set /a**从命令行命令脚本之外，它将显示该表达式的最终值。

    数字的值是十进制数字，除非为前缀的十六进制数字为 0 × 或八进制数字为 0。 因此，0 × 12 是 18，相同即 022 相同。
-   支持延迟的环境变量扩展

    默认情况下，禁用延迟的环境变量扩展支持，但可以启用或禁用通过使用**cmd /v**。
-   使用命令扩展

    启用了命令扩展 （默认值），并且您运行**设置**单独，它将显示所有当前的环境变量。 如果在运行**设置**值时，它将显示与该值匹配的变量。
-   使用**设置**批处理文件中

    创建批处理文件时，可以使用**设置**若要创建变量，以及如何将它们与您将使用带编号的变量相同的方式 **%0**通过 **%9**。 此外可以使用变量 **%0**通过 **%9**作为输入有关**设置**。
-   调用**设置**变量从批处理文件

    当从批处理文件调用变量的值时，括起的值用百分号 (**%**)。 例如，如果批处理程序创建了一个名为波特率的环境变量，您可以使用与波特率作为可替换参数关联，通过键入的字符串 **%波特率 %** 在命令提示符处。
-   使用**设置**在恢复控制台

    **设置**命令，使用不同的参数，可从恢复控制台。

## <a name="BKMK_examples"></a>示例

若要设置环境变量名为 TEST ^1，类型：
```
set testVar=test^^1
```

> [!NOTE]
> **设置**命令将分配到变量的值遵循等号 （=） 的所有内容。 如果键入：
```
set testVar="test^1"
```
您将得到以下结果：
```
testVar="test^1"
```
若要设置的环境变量名为测试和 1，类型：
```
set testVar=test^&1
```
若要设置，以便 C:\Inc （驱动器 C 上的 \Inc 目录） 的字符串是与之关联的名为 INCLUDE 环境变量，请键入：
```
set include=c:\inc
```
然后，可以使用字符串 C:\Inc 在批处理文件中括住名称包含百分号 (**%**)。 例如，可能在批处理文件中包含以下命令，以便能够显示与 INCLUDE 环境变量相关联的目录的内容：
```
dir %include%
```
处理此命令时，替换字符串 C:\Inc **%包括 %**。

此外可以使用**设置**中将一个新目录添加到 PATH 环境变量的批处理程序。 例如：
```
@echo off
rem ADDPATH.BAT adds a new directory
rem to the path environment variable.
set path=%1;%path%
set
```
若要显示所有以字母 P 开头的环境变量的列表，请键入：
```
set p 
```

> [!NOTE]
> 此命令要求命令扩展，默认情况下启用。

#### <a name="additional-references"></a>其他参考

[命令行语法解答](command-line-syntax-key.md)