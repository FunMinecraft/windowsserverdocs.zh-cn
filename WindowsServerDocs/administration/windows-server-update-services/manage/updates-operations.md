---
title: 更新操作
description: Windows Server Update Service (WSUS) 主题-如何管理更新，包括审批过程
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-wsus
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4cb7ff54-3014-4e91-842a-a7b831ea59ff
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 4d99e006a03e12d7201390748aec8671236cf297
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/17/2019
ms.locfileid: "59822548"
---
# <a name="updates-operations"></a>更新操作

>适用于：Windows 服务器 （半年频道），Windows Server 2016 中，Windows Server 2012 R2、 Windows Server 2012

已与你的 WSUS 服务器同步的更新后，它们将扫描于自动为与服务器的客户端计算机的相关性。 但是，你必须批准更新之前部署到你网络上的计算机。 当您批准更新后时，您实际上告诉 WSUS 要执行的操作与之 (您可以选择**安装**或**拒绝**寻找新的更新)。 您可以批准的更新**的所有计算机**组或子组。 如果不批准更新，其批准状态将保持**未获批准**，和你的 WSUS 服务器允许客户端评估是否需要更新。

如果你的 WSUS 服务器在副本模式下运行，您将不能批准你的 WSUS 服务器上的更新。 有关副本模式的详细信息，请参阅[运行 WSUS 副本模式](running-wsus-replica-mode.md)。

## <a name="approving-updates"></a>批准更新
您可以批准更新的 WSUS 网络中的所有计算机或不同的计算机组的安装。 批准后更新，您可以执行一个 （或多个） 的以下操作：

-   如果有，请将此审批应用于子组。

-   设置为自动安装的截止时间。 在选择此选项，你设置特定的时间和日期来安装更新，重写客户端计算机上的任何设置。 此外，可以指定在截止时间为过去的日期，如果你想要批准更新立即 （若要安装客户端计算机联系 WSUS 服务器的下一步时间）。

-   如果该更新支持删除，请删除已安装的更新。

有两个您应牢记的重要注意事项：

-   首先，不能设置自动安装更新的截止时间，如果用户输入是必需的 （示例中，指定与更新相关的设置）。 若要确定更新是否将要求用户输入，请查看**可能会请求用户输入**上显示的更新在更新属性中字段**更新**页。 中的消息也检查**批准更新**框，其中显示，"**所选的更新需要用户输入，并且不支持采用安装截止时间**。"

-   如果有更新到 WSUS 服务器组件，则不能批准客户端系统的其他更新批准 WSUS 更新前。 您将看到此警告消息，在批准更新对话框："有未批准的 WSUS 更新。 你应批准 WSUS 更新批准此更新之前。" 在这种情况下，应单击 WSUS 更新节点，并确保，在该视图中的更新的所有已批准之前返回到常规更新。

#### <a name="to-approve-updates"></a>若要批准更新

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  在更新列表中，选择你想要批准并右键单击 （或转到操作窗格），更新，在批准更新对话框中，选择你想要批准该更新的计算机组，并单击它旁边的箭头。

3.  选择**批准安装**，然后单击**批准**。

4.  **批准进度**窗口将显示完成批准进度。 该过程完成后，**关闭**按钮将出现。 单击 **“关闭”**。

5.  可以通过右键单击此更新，选择相应的计算机组中，单击它，旁边的箭头，然后单击选择了截止时间**截止时间**。

    -   您可以选择一个标准的截止时间 （一周、 两周，一个月），或者可以单击**自定义**来指定日期和时间。

    -   如果你想要在客户端计算机联系服务器安装的更新，请单击**自定义**，然后设置日期和时间为当前日期和时间或为过去的某一。

#### <a name="to-approve-multiple-updates"></a>若要批准多个更新

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  若要选择多个连续更新，按**shift**时选择的更新。 若要选择多个非连续更新，请按住**CTRL**时选择的更新。

3.  右键单击所选内容，然后单击**批准**。 **批准更新**对话框打开，其中**批准状态**设置为**保留现有批准**并**确定**禁用的按钮。

4.  你可以针对各个组中，进行审批，但这样做因此将不会影响子审批。 选择你想要更改批准的组并单击其左侧的箭头。 在快捷菜单中，单击**批准安装**。

5.  更改为所选组的批准**安装**。 如果有任何子组，批准将保持**保留现有批准**。 若要更改子组的批准，请单击组，并单击其左侧的箭头。 在快捷菜单中，单击**应用于子项**。

6.  若要设置的特定子从父级继承其所有批准，单击子级并单击其左侧的箭头。 在快捷菜单中，单击**与父项相同**。 如果设置子级继承审批，但不是更改父审批，子将继承父现有批准。

7.  如果你想要更改的所有子级的审批行为，批准**的所有计算机**，然后选择**应用于子项**。

8.  单击**确定**设置所有审批后。 **批准进度**窗口将显示完成批准进度。 该过程完成后，**关闭**按钮就可以使用。 单击 **“关闭”**。

## <a name="declining-updates"></a>拒绝更新
如果选择此选项，从可用的更新的默认列表删除该更新，WSUS 服务器将提供给客户端，无论是出于评估或安装的更新。 你可以通过选择更新和右键单击或转到操作窗格中的组覆盖此选项。 拒绝的更新会在更新列表中，只有在选中**已拒绝**批准列表时指定的筛选器下的更新列表中**视图**。

#### <a name="to-decline-updates"></a>若要拒绝更新

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  在更新列表中，选择一个或多个要拒绝的更新。

3.  选择**拒绝**，然后单击**是**上确认消息。

## <a name="cleaning-up-declined-updates"></a>清理已拒绝的更新
已拒绝的更新继续使用某些 WSUS 服务器资源。 应运行的服务器清理向导，从 WSUS 数据库中删除已拒绝的更新。 请参阅：[服务器清理向导](the-server-cleanup-wizard.md)，有关其他详细信息。

## <a name="reinstating-declined-updates"></a>使已拒绝的更新
更新已被拒绝后，你仍可以恢复它。

#### <a name="to-reinstate-declined-updates"></a>若要恢复已拒绝的更新

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  更改**审批**到**已拒绝**然后单击**刷新**。 加载已拒绝的更新的列表。

3.  在更新列表中，选择你想要恢复的一个或多个已拒绝的更新。

4.  若要恢复某一特定更新，右键单击该更新，然后选择**批准**。 在中**批准更新**对话框中，单击**确定**重新应用默认值"未批准"批准状态。 更新将显示在列表中作为**未获批准**而不是已拒绝。

通过使用 WSUS 服务器清理向导已清理拒绝的更新后，它将删除从 WSUS 服务器，并将不再显示在所有更新视图中。 您可以重新导入已拒绝从 Microsoft Update 目录的清除更新。 有关其他信息，请参阅[WSUS 和目录站点](wsus-and-the-catalog-site.md)。

## <a name="change-an-approved-update-to-not-approved"></a>将已批准的更新更改为未批准
如果批准的更新，并且你决定不将其安装在这一次，并改为想要将其保存为将来的某个时间，您可以更改为的状态为未批准的更新。 这意味着更新将保持可用的更新在默认列表中并将报告客户端符合性，但将不会安装在客户端上。

#### <a name="to-change-an-update-from-approved-to-not-approved"></a>若要更改的更新批准未批准

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  在更新列表中，选择你想要将更改为未批准的一个或多个已批准的更新。

3.  在快捷菜单中或**操作**窗格中，选择**未获批准**，然后单击**是**上确认消息。

## <a name="approving-updates-for-removal"></a>删除批准更新
您可以批准删除的更新 (即，卸载已安装的更新)。 仅当更新已安装并支持删除，此选项才可用。 您可以指定要卸载的更新的截止时间或指定在截止时间为过去的日期，如果你想要删除的更新立即 （客户端计算机联系 WSUS 服务器的下一步时间）。

特别要提到并非所有更新，都支持删除它。 您可以查看更新是否支持通过选择单个更新并查看删除**详细信息**窗格。 下**其他详细信息**，你将看到**可移动**类别。 如果浏览器不能删除该更新，在某些情况下它可以删除与**添加或删除程序**从**控制面板**。

#### <a name="to-approve-updates-for-removal"></a>批准更新以进行删除

1.  在 WSUS 管理控制台中，单击**更新**，然后单击**的所有更新**。

2.  在更新列表中，选择你想要批准以进行删除，然后右键单击它们的一个或多个更新 (或转至**操作**窗格)。

3.  在中**批准更新**对话框中，选择你想要删除该更新的计算机组，然后单击它旁边的箭头。

4.  选择**批准删除**，然后单击**删除**按钮。

5.  删除审批已完成后，可以通过右键单击一次此更新，选择相应的计算机组，然后单击它旁边的箭头来选择了截止时间。 然后选择**截止时间**。 您可以选择一个标准的截止时间 （一周、 两周，一个月），或者可以单击**自定义**以选择特定日期和时间。

6.  如果你想要为客户端计算机与服务器通讯，很快将删除的更新，请单击**自定义**，并可设置过去的日期。

## <a name="approving-updates-automatically"></a>自动批准更新
可以配置自动批准的某些更新在 WSUS 服务器。 可用时，还可以指定自动批准的对现有更新的修订。 默认情况下选择此选项。 修订版本是已对其进行更改的更新版本 （例如，它可能已过期，或者可能已更改其适用性规则）。 如果不选择自动批准更新的修订的版本，WSUS 将使用较旧版本，则必须手动批准的更新修订版本。

可以创建你的 WSUS 服务器将自动在同步期间应用的规则。 指定想要自动批准安装更新分类、 产品、 计算机组哪些的更新。 这仅适用于新的更新，而不是修订的更新。 此外可以指定设置数天以及特定的时间之前批准的更新的截止时间安装产品/服务的更新批准截止时间。 这些设置都可用于**选项**窗格下**自动审批**。

#### <a name="to-automatically-approve-updates"></a>若要自动批准更新

1.  在 WSUS 管理控制台中，单击**选项**，然后单击**自动审批**。

2.  在“更新规则”中，单击“新规则”。

3.  在中**添加规则**对话框下**步骤 1： 选择属性**，选择是否使用**更新属于特定分类**或**当更新属于在特定产品中**（或两者） 作为条件。 （可选） 选择是否**设置的截止时间**以供审核。

4.  在中**步骤 2： 编辑属性**单击带下划线的属性，以便选择分类、 产品和所需自动审批，在适用的计算机组。 （可选） 选择批准更新截止时间的日期和时间。

5.  在**步骤 3:指定一个名称框**，键入规则的唯一名称。

6.  单击 **“确定”**。

自动批准规则不会应用于需要尚未在服务器接受最终用户许可协议 (EULA) 的更新。 如果您发现应用自动批准规则不会导致所有相关的更新将被批准，您应手动批准这些更新。

## <a name="automatically-approving-revisions-to-updates-and-declining-expired-updates"></a>自动批准对更新的修订和拒绝过期更新
选项窗格的自动审批部分包含一个默认选项为自动批准对已批准更新的修订。 此外可以设置你的 WSUS 服务器以自动拒绝过期的更新。 如果你选择不自动批准更新的修订的版本，你的 WSUS 服务器将使用旧的修订版本，你必须手动批准的更新修订版本。

> [!NOTE]
> 修订版本是已更改的更新版本 （例如，它可能已过期或已更新的适用性规则）。

#### <a name="to-automatically-approve-revisions-to-updates-and-decline-expired-updates"></a>若要自动批准对更新的修订和拒绝过期更新

1.  在 WSUS 管理控制台中，单击**选项**，然后单击**自动审批**。

2.  上**高级**选项卡上，请确保同时**自动批准新的已批准的更新的修订版本**和**时的新修订版本会导致其过期自动拒绝更新**选择。

3.  单击“确定”。

    > [!NOTE]
    > 保留这些选项的默认值允许 WSUS 网络上保持良好的性能。 如果不希望被自动拒绝过期的更新，应确保定期手动拒绝。

## <a name="automatically-declining-superseded-updates"></a>自动拒绝被取代的更新
在审核将取代现有的更新自动批准的新更新时，被取代的更新后，将变为"不适用"到计算机或设备已安装的较新的更新。 你可以验证在 WSUS 控制台中更新的所有计算机中不适用。 如果是这种情况，可以安全地拒绝更新。 此外，此更新可能会自动被拒绝时运行的 WSUS 服务器清理向导。

要搜索的被取代的更新，可以在所有更新视图和对该列的排序选择"被取代"标记列。 将有四个组：

-   更新已永远不会取代 （空白图标）。

-   更新已取代，但永远不会具有被取代其他更新 （与在底部的蓝色正方形图标）。

-   更新已取代更新和具有被取代其他更新 （与蓝色方块中间的图标）。

-   具有被取代其他更新 （与在顶部的蓝色正方形图标） 的更新。

在 Windows Server Update Services，会自动拒绝被取代的更新较新的更新的批准后没有任何功能。 建议首先将设置为"未获批准，"审批，然后使用服务器清理向导可以自动拒绝该更新时相关的所有条件都得到都满足。 有关详细信息，请参阅：[服务器清理向导](the-server-cleanup-wizard.md)。

## <a name="approving-superseding-or-superseded-updates"></a>批准取代或取代的更新
通常情况下，会取代其他更新的更新将执行一个或多个以下操作：

-   增强、 改进了，或将添加到一个或多个以前发布的更新提供的修补程序。

-   提高了其更新文件包，如果在批准安装更新客户端计算机安装的效率。 例如，被取代的更新可能包含不再与修补程序或现在支持新的更新，因此这些文件未包含在取代更新文件包的操作系统相关的文件。

-   更新较新版本的操作系统。 它也是操作系统的特别要注意，取代更新可能不支持早期版本。

相反，被其他更新取代的更新将执行以下操作：

-   修复的问题类似于取代它的更新。 但是，取代更新可能增强被取代的更新提供的修补程序。

-   更新操作系统的早期版本。 在某些情况下，这些版本的操作系统无法再更新取代的更新。

在单个更新的详细信息窗格中，一个信息性图标和顶部的一条消息指示它将取代或被其他更新取代。 此外，可以确定哪些更新取代，或通过查看更新所取代**取代此更新的更新**并**由此更新取代的更新**中的条目**更多详细信息**的部分**属性**。 更新的详细信息窗格中显示的更新列表的下方。

WSUS 不会自动拒绝被取代更新，并且建议您不要假定，被取代的更新应拒绝被取代的新取代更新。 拒绝被取代的更新之前, 请确保它不再需要的任何客户端计算机。 您可能需要安装被取代的更新方案的示例如下：

-   如果取代更新支持的操作系统，只有较新版本和一些客户端计算机运行早期版本的操作系统。

-   如果取代更新具有限制性更强的适用性高于更新及其取代，这会使它不适合于某些客户端计算机。

-   如果由于新的更改，更新不再取代以前发布的更新。 它是可能的通过每次发布的更改，更新不再取代它以前的早期版本中被取代的更新。 在此方案中，您仍会看到有关被取代的更新的消息但却不更新已替换为更新取代它。


