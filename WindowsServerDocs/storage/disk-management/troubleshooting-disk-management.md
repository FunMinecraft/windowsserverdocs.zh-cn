---
title: 磁盘管理疑难解答
description: 本文介绍如何解决磁盘管理问题
ms.date: 12/22/2017
ms.prod: windows-server-threshold
ms.technology: storage
ms.topic: article
author: JasonGerend
manager: brianlic
ms.author: jgerend
ms.openlocfilehash: c234828706d999fe049626a2fd98db70e612766f
ms.sourcegitcommit: 0b5fd4dc4148b92480db04e4dc22e139dcff8582
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/24/2019
ms.locfileid: "66192737"
---
# <a name="troubleshooting-disk-management"></a>磁盘管理疑难解答

> **适用于：** Windows 10、 Windows 8.1、 Windows 7、 Windows Server （半年频道）、 Windows Server 2016、 Windows Server 2012 R2、 Windows Server 2012

本主题列出了使用磁盘管理时可能会遇到的一些常见问题。

> [!TIP]
> 如果收到错误或其他不起作用时在执行这些过程-不要慌 ！ 还有大量的信息存储在[Microsoft 社区](https://answers.microsoft.com/en-us/windows)站点-请尝试搜索[文件、 文件夹和存储](https://answers.microsoft.com/en-us/windows/forum/windows_10-files?sort=lastreplydate&dir=desc&tab=All&status=all&mod=&modAge=&advFil=&postedAfter=&postedBefore=&threadType=all&isFilterExpanded=true&tm=1514405359639)部分下，如果仍需帮助，请将发布存在的问题和 Microsoft 或其他成员社区将尝试帮助。 如果您有关于如何改进这些主题的反馈，我们期待收到你的反馈 ！ 只需回答*是此页面有帮助？* 提示，并存在或在本主题底部的公用注释线程保留的任何注释。

## <a name="a-disks-status-is-not-initialized-or-the-disk-is-missing"></a>磁盘的状态为未初始化或磁盘丢失

![显示必须初始化未知的磁盘的磁盘管理。](media\uninitialized-disk.PNG)

**原因：** 如果具有的磁盘不再显示在文件资源管理器中，在磁盘管理以列出*未初始化*，则可能是因为该磁盘没有有效的磁盘签名。 基本上，这意味着具有永远不会初始化和格式化，磁盘或已以某种方式损坏的驱动器格式设置。 

还有可能磁盘出现硬件问题或问题插入，但我们稍后将对此的几个段落中。

**解决方案：**   如果驱动器是全新的只需进行初始化，擦除任何数据，解决方法很简单-请参阅[初始化新磁盘](initialize-new-disks.md)。 但是，可能很可能您已经尝试过此操作，并且它不起作用。 或可能有磁盘已满的重要的文件，并不想要按其进行初始化擦除该磁盘。

有大量的磁盘可能会丢失或无法初始化，其中常见原因是由于磁盘发生故障的原因。 仅执行许多操作，可以修复的故障磁盘，但以下是一些步骤，尝试了解是否我们可以让它再次工作。 启动盘可以在其中一个步骤后，如果不涉及接下来的步骤、 只需重新启动、 庆祝，和可能更新你的备份。

1. 查看在磁盘管理的磁盘。 如果显示了该*脱机*如下所示，请尝试右键单击它，然后选择**联机**。

    ![显示为脱机的磁盘](media/offline-disk.png)
1. 如果磁盘出现在磁盘管理中作为*联机*，并具有一个主分区列为*正常*，如下所示在这里，这是一个好迹象。

    ![显示为联机的正常卷的磁盘](media/healthy-volume.png)
    - 如果分区具有文件系统中，但没有驱动器号 （例如，e:），请参阅[更改驱动器号](change-a-drive-letter.md)手动添加驱动器号。
    - 如果它不具有文件系统 （NTFS、 ReFS、 FAT32 或 exFAT） 并且您知道，磁盘为空，右键单击分区，然后选择**格式**。 格式化磁盘会清除它，因此不执行此操作如果想要改为将文件从磁盘的恢复，请跳到下一步的所有数据。
1. 如果有外部磁盘，拔出磁盘时，将其返回，，然后选择**操作** > **重新扫描磁盘**。 
2. 关闭您的 PC，关闭外部硬盘 （如果它是外部磁盘与电源线），然后将重新打开您的 PC 和磁盘。
    若要关闭您的 PC 在 Windows 10 中，选择开始按钮，选择电源按钮，然后选择**关闭**。
1. 插入到另一个 USB 端口直接在您的 PC （不在一个中心） 上的磁盘。
    有时 USB 磁盘没有从某些端口获取足够的电源或仍有其他问题的特定端口。 这是特别常见的 USB 集线器，但有时会在 PC 上的端口之间的差异，因此请尝试几个不同的端口，如果您已拥有。
1. 请尝试另一条电缆。
    它可能听起来有点不切实际，但电缆大量失败，因此请尝试使用另一条电缆插入磁盘。 如果桌面 PC 中有内部磁盘，你可能需要切换电缆之前关闭您的 PC-请参阅你的电脑的手册了解详细信息。
1. 检查设备管理器的问题。
    按并保存 （或右键单击） 开始按钮，然后选择设备管理器，从上下文菜单。 寻找带有感叹号旁边它或其他问题的任何设备、 双击的设备，然后读取其状态。

    下面是一系列[错误代码在设备管理器](https://support.microsoft.com/help/310123/error-codes-in-device-manager-in-windows)，但又选择一种方法的方式是右键单击有问题的设备，有时**卸载设备**，然后**操作**  > **扫描检测硬件改动**。
    ![显示未知的 USB 设备的设备管理器](media\device-manager.PNG)
1. 将磁盘插入不同的电脑。
    
    如果在另一台 PC 上，磁盘不起作用，则没有类似错误磁盘和不是您的 PC 发生一个好迹象。 我们知道毫无乐趣可言。 可以尝试的一些详细步骤[外部 USB 驱动器错误"逻辑磁盘管理器可以访问它之前必须初始化磁盘"](https://social.technet.microsoft.com/Forums/windows/en-US/2b069948-82e9-49ef-bbb7-e44ec7bfebdb/forum-faq-external-usb-drive-error-you-must-initialize-the-disk-before-logical-disk-manager-can?forum=w7itprohardware)，但这可能是时间来搜索和寻求帮助，网址[Microsoft 社区](https://answers.microsoft.com/en-us/windows)网站，或与磁盘制造商联系。

    如果只是无法获取终结点正常工作，还可以尝试从故障磁盘，请恢复数据的应用或如果这些文件是非常重要，您可以支付数据恢复实验室来尝试恢复它们。 如果您发现的东西，让我们知道在下面的注释部分中。

> [!IMPORTANT]
> 磁盘相当通常情况下，失败，因此务必要定期备份你关注的信息的任何文件。 如果必须有时不出现或出现错误的磁盘，请考虑这一点的提醒，请仔细检查备份方法。 如果你是小隐藏-我们所有已经存在，则确定。 最佳备份解决方案是一个使用，因此我们建议你要查找的工作原理，并继续使用它。

> [!TIP]
有关如何使用将文件备份到外部驱动器的 USB 驱动器等内置于 Windows 的应用的信息，请参见[备份和还原文件](https://support.microsoft.com/help/17143/windows-10-back-up-your-files)。 此外可以在 Microsoft OneDrive，会同步到云的文件从您的 PC 中保存文件。 如果您的硬盘出现故障，您将仍将能够获取 OneDrive.com 从 OneDrive 中存储任何文件。 有关详细信息，请参阅[您的 PC 上的 OneDrive](https://support.microsoft.com/help/17184/windows-10-onedrive)。

## <a name="a-basic-or-dynamic-disks-status-is-unreadable"></a>基本或动态磁盘的状态是不可读

**原因：**  基本或动态磁盘不可访问，并且可能会遇到硬件故障、 损坏或 I/O 错误。 系统磁盘配置数据库的磁盘副本可能已损坏。 在显示**不可读**状态的磁盘上出现错误图标。

磁盘在旋转时或者当磁盘管理正在重新扫描系统上的所有磁盘时，磁盘也可能会显示**不可读**状态。 在某些情况下，无法读取的磁盘已出现故障，并且无法恢复。 对于动态磁盘，**不可读**状态通常是由于部分磁盘的损坏或 I/O 错误所导致，而不是由于整个磁盘的故障所导致。

**解决方案：**  重新扫描磁盘或重新启动计算机后，若要查看磁盘状态将更改。 此外尝试中所述的故障排除步骤[磁盘的状态为未初始化或磁盘丢失完全](#a-disks-status-is-not-initialized-or-the-disk-is-missing)。

## <a name="a-dynamic-disks-status-is-foreign"></a>动态磁盘的状态为外部

**原因：**  **外部**到本地计算机的动态磁盘移动从另一台计算机 PC 时，就会出现状态。 在显示**外部**状态的磁盘上出现警告图标。

在某些情况下，以前连接到系统的磁盘可能会显示**外部**状态。 动态磁盘的配置数据存储在所有动态磁盘上，因此当所有动态磁盘发生故障时，关于系统拥有哪些磁盘的信息将会丢失。

**解决方案：**  将磁盘添加到您的计算机的系统配置，以便可以访问磁盘上的数据。 若要将磁盘添加到计算机的系统配置中，请导入外部磁盘（右键单击磁盘，然后单击**导入外部磁盘**）。 导入磁盘时，外部磁盘上的任何现有卷会变为可见且可访问状态。 

## <a name="a-dynamic-disks-status-is-online-errors"></a>动态磁盘的状态是联机 （错误）

**原因：**  动态磁盘的磁盘的某个区域出现 I/O 错误。 有错误的动态磁盘上出现警告图标。

**解决方案：**   I/O 错误是暂时性的如果重新激活磁盘后，若要将其恢复至**联机**状态。

## <a name="a-dynamic-disks-status-is-offline-or-missing"></a>动态磁盘的状态是脱机或丢失

**原因：**  **脱机**动态磁盘可能已损坏或间歇性地不可用。 脱机动态磁盘上出现错误图标。

如果磁盘状态是**脱机**并且磁盘的名称更改为**丢失**，则该磁盘最近在系统上可用，但现在无法再找到或识别该磁盘。 丢失的磁盘可能已损坏、断电或断开连接。

**解决方案：** 若要使脱机而重新联机缺失的磁盘：

1. 修复任何磁盘、控制器或电缆问题。 
2. 确保物理磁盘处于打开状态、已接通电源并连接到计算机。 
3. 接下来，使用**重新激活磁盘**命令使磁盘恢复联机状态。
4. 请尝试故障排除步骤中所述[磁盘的状态为未初始化或磁盘丢失完全](#a-disks-status-is-not-initialized-or-the-disk-is-missing)。
5. 如果磁盘状态仍是**脱机**，磁盘名称仍是**丢失**，并且你确定磁盘有无法修复的问题，则可以右键单击该磁盘，然后单击**删除磁盘**，以从系统中删除该磁盘。 但是，在删除磁盘之前，必须删除该磁盘上的所有卷（或镜像）。 通过删除镜像而不是整个卷，你可以将任何镜像的卷保存在磁盘上。 删除卷会损坏卷中的数据，因此只有在绝对确定磁盘已永久损坏并且不可用时，才应该删除该磁盘。

**若要使磁盘处于脱机状态且仍命名为磁盘\#（没有丢失） 重新联机，请尝试一个或多个以下过程：**

1. 在“磁盘管理”中，右键单击该磁盘，然后单击**重新激活磁盘**以使磁盘恢复联机状态。 如果磁盘状态仍为**脱机**，请检查电缆和磁盘控制器，并确保物理磁盘正常。 解决任何问题，并再次尝试重新激活磁盘。 如果磁盘重新激活成功，则磁盘上的任何卷应该会自动恢复为**正常**状态。
2. 在事件查看器中，检查事件日志中是否有任何与磁盘相关的错误，如“无完好的配置副本”。 如果事件日志包含此错误，请与 [Microsoft 产品支持服务](https://msdn.microsoft.com/library/aa263468(v=vs.60).aspx)联系。

3. 请尝试将磁盘移到另一台计算机中。 如果你可以在另一台计算机上使磁盘变为**联机**状态，则问题很可能是由于磁盘未变为**联机**状态的所在计算机的配置造成的。

4. 请尝试将该磁盘移到具有动态磁盘的另一台计算机中。 在该计算机上导入磁盘，然后将磁盘移回到不会变为**联机**状态的计算机中。 

## <a name="a-basic-or-dynamic-volumes-status-is-failed"></a>基本或动态卷的状态失败

**原因：**   无法自动启动基本或动态卷、 磁盘已损坏，或文件系统已损坏。 除非可以修复磁盘或文件系统，否则**故障**状态表示数据丢失。

**解决方案：**

如果此卷的基本卷**失败**状态：

- 确保基础物理磁盘处于打开状态、已接通电源并连接到计算机。
- 请尝试故障排除步骤中所述[磁盘的状态为未初始化或磁盘丢失完全](#a-disks-status-is-not-initialized-or-the-disk-is-missing)。

如果卷是具有**故障**状态的动态卷：

-   请确保基础磁盘处于联机状态。 如果未处于联机状态，请将磁盘恢复为**联机**状态。 如果此操作成功，则卷会自动重启并恢复为**正常**状态。 如果动态磁盘恢复为**联机**状态，但动态卷未恢复为**正常**状态，则你可以手动重新激活此卷。
-   如果动态卷是具有旧数据的镜像卷或 RAID-5 卷，则使基础磁盘联机将不会自动重启卷。 如果包含当前数据的磁盘已断开连接，请首先使这些磁盘联机（以允许同步数据）。 否则，手动重启镜像卷或 RAID-5 卷，然后运行错误检查工具或 Chkdsk.exe。
- 请尝试故障排除步骤中所述[磁盘的状态为未初始化或磁盘丢失完全](#a-disks-status-is-not-initialized-or-the-disk-is-missing)。

## <a name="a-basic-or-dynamic-volumes-status-is-unknown"></a>基本或动态卷的状态为未知

**原因：**   **未知**卷的引导扇区损坏 （可能是由于病毒），你不再能够访问该卷上的数据时，就会出现状态。 如果你安装新磁盘，但未成功完成向导，因此而无法创建磁盘签名，那么也会出现**未知**状态。

**解决方案**  初始化该磁盘。 有关说明，请参阅[初始化新磁盘](initialize-new-disks.md)。

## <a name="a-dynamic-volumes-status-is-data-incomplete"></a>动态卷的状态是不完整的数据

**原因：** 移动一些，但不是所有的多个磁盘卷中的磁盘。 此卷上的数据将损坏，除非你移动并导入包含此卷的剩余磁盘。

**解决方案：**

1. 将构成多磁盘卷的所有磁盘都移到计算机中。
2. 导入磁盘。 有关描述如何移动和导入磁盘的说明，请参阅[将磁盘移到另一台计算机](move-disks-to-another-computer.md)。

如果你不再需要多磁盘卷，则可以导入磁盘并在其上创建新卷。 为此，请执行以下操作：

1. 右键单击具有**故障**或**失败的重复**状态的卷，然后单击**删除卷**。
2. 右键单击该磁盘，然后单击**新建卷**。

## <a name="a-dynamic-volumes-status-is-healthy-at-risk"></a>动态卷的状态是良好 （有危险）

**原因：**   指示动态卷目前可以访问，但是基础动态磁盘上检测到 I/O 错误。 如果在动态磁盘的任何部分上检测到 I/O 错误，则磁盘上的所有卷都将显示**良好（有危险）** 状态，并且卷上会显示警告图标。

如果卷状态为**良好（有危险）** ，则基础磁盘的状态通常为**联机（错误）** 。

**解决方案：**  
1. 将基础磁盘恢复为**联机**状态。 磁盘恢复为**联机**状态后，卷应该会恢复为**正常**状态。 如果**良好（有危险）** 状态仍然存在，则磁盘可能会出现故障。 

2. 请尽快备份数据并更换磁盘。 

## <a name="cannot-manage-striped-volumes-using-disk-management-or-diskpart"></a>无法管理带区的卷使用磁盘管理或 DiskPart

**原因：**   某些非 Microsoft 磁盘管理产品为高级的磁盘管理，这可能会禁用 LDM 替换 Microsoft 逻辑磁盘管理器 (LDM)。

**解决方案：**   如果使用已禁用 LDM 的非 Microsoft 磁盘管理软件，则必须联系上的非 Microsoft 磁盘管理软件的供应商获取支持或帮助解决问题的磁盘配置。

## <a name="disk-management-cannot-start-the-virtual-disk-service"></a>磁盘管理无法启动虚拟磁盘服务

**原因：**   如果远程计算机不支持虚拟磁盘服务 (VDS)，或如果无法建立与远程计算机的连接，因为它已被阻止通过 Windows 防火墙，可能会收到此错误。

**解决方案：**

1. 如果远程计算机支持 VDS，则可以将 Windows Defender 防火墙配置为允许 VDS 连接。 如果远程计算机不支持 VDS，则可以使用远程桌面连接来进行连接，然后直接在远程计算机上运行磁盘管理。
2. 若要在确实支持 VDS 的远程计算机上管理磁盘，则必须在本地计算机（你正在其上运行磁盘管理）和远程计算机上配置 Windows Defender 防火墙。
3. 在本地计算机上，将 Windows Defender 防火墙配置为启用远程卷管理例外。


> [!NOTE]
> 远程卷管理例外包括 Vds.exe、Vdsldr.exe 和 TCP 端口 135 的例外。


 > [!NOTE]
 > 不支持工作组中的远程连接。 本地计算机和远程计算机都必须是某个域的成员。