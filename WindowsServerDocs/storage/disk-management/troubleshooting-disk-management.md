---
title: "磁盘管理疑难解答"
description: "本文介绍如何解决磁盘管理问题"
ms.date: 10/12/2017
ms.prod: windows-server-threshold
ms.technology: storage
ms.topic: article
author: JasonGerend
manager: brianlic
ms.author: jgerend
ms.openlocfilehash: e4b361631799dccbc2b77fb5aa909052532a057d
ms.sourcegitcommit: 583355400f6b0d880dc0ac6bc06f0efb50d674f7
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/17/2017
---
# <a name="troubleshooting-disk-management"></a>磁盘管理疑难解答

> **适用于：**Windows 10、Windows 8.1、Windows Server（半年频道）、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

本主题列出了使用磁盘管理时可能会遇到的一些常见问题。

<a id="BKMK_1"></a>

## <a name="partitions-on-basic-disks-added-to-the-system-do-not-appear-in-the-disk-management-volume-list-view"></a>添加到系统的基本磁盘上的分区未在磁盘管理卷列表视图中显示。

**原因：**默认情况下，不会自动安装添加到系统的基本磁盘上的卷并为其分配驱动器号。
动态磁盘添加到系统后显示为**外部**。 若要使用卷，必须导入**外部**磁盘，然后使卷**联机**。
可移动媒体设备（如 Zip 或 Jaz 驱动器）以及光盘（如 CD-ROM 或 DVD-RAM）都始终由系统自动安装。

**解决方案：**手动安装基本卷，方法是分配驱动器号，或者使用磁盘管理或 [DiskPart](http://go.microsoft.com/fwlink/?LinkId=64110) 或 [mountvol](http://go.microsoft.com/fwlink/?LinkId=64111) 命令创建装入点。

<a id="BKMK_2"></a>

## <a name="a-basic-disks-status-is-not-initialized"></a>基本磁盘的状态为“未初始化”。

**原因：**磁盘未包含有效的签名。 安装新磁盘后，操作系统必须先写入磁盘签名、扇区结束标记（也称为签名文字）和主启动记录或 GUID 分区表，然后你才能在磁盘上创建分区。 安装新磁盘后首次启动磁盘管理时，将显示一个向导，该向导提供操作系统检测到的新磁盘的列表。 如果在写入磁盘签名之前取消此向导，则磁盘状态仍为**未初始化**。

**解决方案：**初始化磁盘。 磁盘状态暂时变为**正在初始化**，然后变为**联机**状态。 有关描述如何初始化磁盘的说明，请参阅[初始化新磁盘](initialize-new-disks.md)。 

<a id="BKMK_3"></a>

## <a name="a-basic-or-dynamic-disks-status-is-unreadable"></a>基本磁盘或动态磁盘的状态为“不可读”。

**原因：**基本或动态磁盘不可访问，并且可能遇到了硬件故障、损坏或 I/O 错误。 系统磁盘配置数据库的磁盘副本可能已损坏。 在显示**不可读**状态的磁盘上出现错误图标。

磁盘在旋转时或者当磁盘管理正在重新扫描系统上的所有磁盘时，磁盘也可能会显示**不可读**状态。 在某些情况下，无法读取的磁盘已出现故障，并且无法恢复。 对于动态磁盘，**不可读**状态通常是由于部分磁盘的损坏或 I/O 错误所导致，而不是由于整个磁盘的故障所导致。

**解决方案：**重新扫描磁盘或重启计算机，以查看磁盘状态是否发生变化。

<a id="BKMK_4"></a>

## <a name="a-dynamic-disks-status-is-foreign"></a>动态磁盘的状态为“外部”。

**原因：**从运行 Windows 2000、Windows XP Professional、Windows XP 64 位版本或 Windows Server 2003 操作系统的另一台计算机中将动态磁盘移到本地计算机时，会出现**外部**状态。 在显示**外部**状态的磁盘上出现警告图标。

在某些情况下，以前连接到系统的磁盘可能会显示**外部**状态。 动态磁盘的配置数据存储在所有动态磁盘上，因此当所有动态磁盘发生故障时，关于系统拥有哪些磁盘的信息将会丢失。

**解决方案：**将磁盘添加到计算机的系统配置中，以便你可以访问磁盘上的数据。 若要将磁盘添加到计算机的系统配置中，请导入外部磁盘（右键单击磁盘，然后单击**导入外部磁盘**）。 导入磁盘时，外部磁盘上的任何现有卷会变为可见且可访问状态。 

<a id="BKMK_5"></a>

## <a name="a-dynamic-disks-status-is-online-errors"></a>动态磁盘的状态为“联机（错误）”。

**原因：**动态磁盘的磁盘区域上有 I/O 错误。 有错误的动态磁盘上出现警告图标。

**解决方案：**如果 I/O 错误是临时的，请重新激活磁盘以使其恢复**联机**状态。

<a id="BKMK_6"></a>

## <a name="a-dynamic-disks-status-is-offline-or-missing"></a>动态磁盘的状态为“脱机”或“丢失”。

**原因：****脱机**动态磁盘可能已损坏或间歇性不可用。 脱机动态磁盘上出现错误图标。

如果磁盘状态是**脱机**并且磁盘的名称更改为**丢失**，则该磁盘最近在系统上可用，但现在无法再找到或识别该磁盘。 丢失的磁盘可能已损坏、断电或断开连接。

**解决方案：**使脱机和丢失的磁盘恢复联机状态：
1. 修复任何磁盘、控制器或电缆问题。 
2. 确保物理磁盘处于打开状态、已接通电源并连接到计算机。 
3. 接下来，使用**重新激活磁盘**命令使磁盘恢复联机状态。

4. 如果磁盘状态仍是**脱机**，磁盘名称仍是**丢失**，并且你确定磁盘有无法修复的问题，则可以右键单击该磁盘，然后单击**删除磁盘**，以从系统中删除该磁盘。 但是，在删除磁盘之前，必须删除该磁盘上的所有卷（或镜像）。 通过删除镜像而不是整个卷，你可以将任何镜像的卷保存在磁盘上。 删除卷会损坏卷中的数据，因此只有在绝对确定磁盘已永久损坏并且不可用时，才应该删除该磁盘。

**若要使处于脱机状态并且名称仍然为“磁盘 \＃”（非“丢失”）的磁盘恢复联机状态，请尝试以下一个或多个步骤：**

1. 在“磁盘管理”中，右键单击该磁盘，然后单击**重新激活磁盘**以使磁盘恢复联机状态。 如果磁盘状态仍为**脱机**，请检查电缆和磁盘控制器，并确保物理磁盘正常。 解决任何问题，并再次尝试重新激活磁盘。 如果磁盘重新激活成功，则磁盘上的任何卷应该会自动恢复为**正常**状态。
2. 在事件查看器中，检查事件日志中是否有任何与磁盘相关的错误，如“无完好的配置副本”。 如果事件日志包含此错误，请与 [Microsoft 产品支持服务](https://msdn.microsoft.com/library/aa263468(v=vs.60).aspx)联系。

3. 请尝试将磁盘移到另一台计算机中。 如果你可以在另一台计算机上使磁盘变为**联机**状态，则问题很可能是由于磁盘未变为**联机**状态的所在计算机的配置造成的。

4. 请尝试将该磁盘移到具有动态磁盘的另一台计算机中。 在该计算机上导入磁盘，然后将磁盘移回到不会变为**联机**状态的计算机中。 

<a id="BKMK_7"></a>

## <a name="a-basic-or-dynamic-volumes-status-is-failed"></a>基本卷或动态卷的状态为“故障”。

**原因：**基本卷或动态卷无法自动启动，磁盘损坏或文件系统损坏。 除非可以修复磁盘或文件系统，否则**故障**状态表示数据丢失。

**解决方案：**如果卷是具有**故障**状态的基本卷：

-   确保基础物理磁盘处于打开状态、已接通电源并连接到计算机。 基本卷无法执行其他用户操作。

    如果卷是具有**故障**状态的动态卷： 
-   请确保基础磁盘处于联机状态。 如果未处于联机状态，请将磁盘恢复为**联机**状态。 如果此操作成功，则卷会自动重启并恢复为**正常**状态。 如果动态磁盘恢复为**联机**状态，但动态卷未恢复为**正常**状态，则你可以手动重新激活此卷。 
    
-   如果动态卷是具有旧数据的镜像卷或 RAID-5 卷，则使基础磁盘联机将不会自动重启卷。 如果包含当前数据的磁盘已断开连接，请首先使这些磁盘联机（以允许同步数据）。 否则，手动重启镜像卷或 RAID-5 卷，然后运行错误检查工具或 Chkdsk.exe。

<a id="BKMK_8"></a>

## <a name="a-basic-or-dynamic-volumes-status-is-unknown"></a>基本卷或动态卷的状态为“未知”。

**原因：**当卷的启动扇区已损坏（可能是由于病毒造成的）并且你无法再访问卷上的数据时，会出现**未知**状态。 如果你安装新磁盘，但未成功完成向导，因此而无法创建磁盘签名，那么也会出现**未知**状态。

**解决方案：**初始化磁盘。 有关说明，请参阅[初始化新磁盘](initialize-new-disks.md)。 

<a id="BKMK_9"></a>

## <a name="a-dynamic-volumes-status-is-data-incomplete"></a>动态卷的状态为“不完整的数据”。

**原因：**你移动了多磁盘卷上的部分而非所有磁盘。 此卷上的数据将损坏，除非你移动并导入包含此卷的剩余磁盘。

**解决方案：**  
1. 将构成多磁盘卷的所有磁盘都移到计算机中。

2. 导入磁盘。 有关描述如何移动和导入磁盘的说明，请参阅[将磁盘移到另一台计算机](move-disks-to-another-computer.md)。

如果你不再需要多磁盘卷，则可以导入磁盘并在其上创建新卷。 执行此操作的步骤： 

1. 右键单击具有**故障**或**失败的重复**状态的卷，然后单击**删除卷**。 

2. 右键单击该磁盘，然后单击**新建卷**。

<a id="BKMK_10"></a>

## <a name="a-dynamic-volumes-status-is-healthy-at-risk"></a>动态卷的状态为“良好（有危险）”。

**原因：**这表示当前可以访问动态卷，但在基础动态磁盘上检测到 I/O 错误。 如果在动态磁盘的任何部分上检测到 I/O 错误，则磁盘上的所有卷都将显示**良好（有危险）**状态，并且卷上会显示警告图标。

如果卷状态为**良好（有危险）**，则基础磁盘的状态通常为**联机（错误）**。

**解决方案：**  
1. 将基础磁盘恢复为**联机**状态。 磁盘恢复为**联机**状态后，卷应该会恢复为**正常**状态。 如果**良好（有危险）**状态仍然存在，则磁盘可能会出现故障。 

2. 请尽快备份数据并更换磁盘。 

<a id="BKMK_11"></a>

## <a name="cannot-manage-striped-volumes-using-disk-management-or-diskpart"></a>无法使用磁盘管理或 DiskPart 来管理带区卷。

**原因：**某些非 Microsoft 磁盘管理产品会替换 Microsoft 逻辑磁盘管理器 (LDM) 以进行高级磁盘管理，这可能会禁用 LDM。

**解决方案：**如果你使用的是已禁用 LDM 的非 Microsoft 磁盘管理软件，则必须就非 Microsoft 磁盘管理软件与供应商联系，以获取支持或请求帮助解决磁盘配置问题。

<a id="BKMK_virtdisk"></a>

## <a name="disk-management-cannot-start-the-virtual-disk-service"></a>磁盘管理无法启动虚拟磁盘服务。

**原因：**如果远程计算机不支持虚拟磁盘服务 (VDS)，或者如果因 Windows 防火墙阻止而无法建立到远程计算机的连接，则你可能会收到此错误。

**解决方案：**  
1. 如果远程计算机支持 VDS，则可以将 Windows Defender 防火墙配置为允许 VDS 连接。 如果远程计算机不支持 VDS，则可以使用远程桌面连接来进行连接，然后直接在远程计算机上运行磁盘管理。

2. 若要在确实支持 VDS 的远程计算机上管理磁盘，则必须在本地计算机（你正在其上运行磁盘管理）和远程计算机上配置 Windows Defender 防火墙。

3. 在本地计算机上，将 Windows Defender 防火墙配置为启用远程卷管理例外。

<br />

> [!NOTE]
> 远程卷管理例外包括 Vds.exe、Vdsldr.exe 和 TCP 端口 135 的例外。

<br />

 > [!NOTE]
 > 不支持工作组中的远程连接。 本地计算机和远程计算机都必须是某个域的成员。