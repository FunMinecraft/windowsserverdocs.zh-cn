---
title: 管理软件限制策略
description: Windows Server 安全
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 8cc22093-67d1-47b6-9ddd-4569b6761ce9
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: 67ef99c95f10585ab72dee4bdf6512e715d13f4a
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/17/2019
ms.locfileid: "59863588"
---
# <a name="administer-software-restriction-policies"></a>管理软件限制策略

>适用于：Windows Server 2016 中，Windows Server 2012 R2、 Windows Server 2012

面向 IT 专业人员的本主题包含如何管理 Windows Server 2008 和 Windows Vista 中使用软件限制策略 (SRP) 开头的应用程序控制策略的过程。

## <a name="introduction"></a>简介
软件限制策略 (SRP) 是基于组策略的功能，用于标识在域中的计算机上运行的软件程序，以及控制这些程序的运行能力。 你可以使用软件限制策略创建计算机的高度受限配置，从而仅允许运行专门标识的应用程序。 这些与 Microsoft Active Directory 域服务和组策略集成，但也可以配置在独立计算机上。 有关 SRP 的详细信息，请参阅[软件限制策略](software-restriction-policies.md)。

从 Windows Server 2008 R2 和 Windows 7 开始，Windows AppLocker 可以用于或 SRP 配合应用程序控制策略的一部分。

本主题包含：

-   [若要打开软件限制策略](#BKMK_Open_SRP)

-   [若要创建新的软件限制策略](#BKMK_Create_SRP)

-   [若要添加或删除指定的文件类型](#BKMK_Add_Del)

-   [若要防止向本地管理员应用软件限制策略](#BKMK_Prevent_Admin)

-   [若要更改软件限制策略的默认安全级别](#BKMK_Sec_Lvl)

-   [若要向 Dll 应用软件限制策略](#BKMK_Apply_SRP_DLLs)

有关如何完成特定任务使用 SRP 的信息，请参阅：

-   [确定允许-拒绝列表和应用程序清单的软件限制策略](determine-allow-deny-list-and-application-inventory-for-software-restriction-policies.md)

-   [使用软件限制策略规则](work-with-software-restriction-policies-rules.md)

-   [使用软件限制策略来帮助保护计算机免受电子邮件病毒](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

## <a name="BKMK_Open_SRP"></a>若要打开软件限制策略

-   [为本地计算机](#BKMK_1)

-   [对于域，站点或组织单位，并且是成员服务器上还是在上加入到域的工作站](#BKMK_2)

-   [为域或组织单位，并且您的域控制器上或安装了远程服务器管理工具在工作站上](#BKMK_3)

-   [站点和你的域控制器上或安装了远程服务器管理工具在工作站上](#BKMK_4)

### <a name="BKMK_1"></a>为本地计算机

1.  打开“本地安全设置”。

2.  在控制台树中，单击**软件限制策略**。

    **其中？**

    -   安全设置/软件限制策略

> [!NOTE]
> 若要执行该过程，你必须是本地计算机上Administrators 组的成员，或你必须已被委派适当的权限。

### <a name="BKMK_2"></a>对于域，站点或组织单位，并且是成员服务器上还是在上加入到域的工作站

1.  打开 Microsoft 管理控制台 (MMC)。

2.  上**文件**菜单上，单击**添加/删除管理单元中**，然后单击**添加**。

3.  单击“本地组策略对象编辑器”，然后单击“添加”。

4.  在“选择组策略对象”中单击“浏览”。

5.  在中**浏览组策略对象**，选择相应的域、 站点或组织单位中的组策略对象 (GPO)-或创建一个新，然后单击**完成**。

6.  单击“关闭”，然后单击“确定”。

7.  在控制台树中，单击**软件限制策略**。

    **其中？**

    -   *组策略对象*[*ComputerName*] 策略/计算机配置或

        用户配置 / Windows 设置/安全设置/软件限制策略

> [!NOTE]
> 若要执行此过程，必须是 Domain Admins 组的成员。

### <a name="BKMK_3"></a>为域或组织单位，并且您的域控制器上或安装了远程服务器管理工具在工作站上

1.  打开组策略管理控制台。

2.  在控制台树中，右键单击你想要打开的软件限制策略组策略对象 (GPO)。

3.  单击“编辑”打开要编辑的 GPO。 也可以单击“新建”以创建一个新的 GPO，然后单击“编辑”。

4.  在控制台树中，单击**软件限制策略**。

    **其中？**

    -   *组策略对象*[*ComputerName*] 策略/计算机配置或

        用户配置 / Windows 设置/安全设置/软件限制策略

> [!NOTE]
> 若要执行此过程，必须是 Domain Admins 组的成员。

### <a name="BKMK_4"></a>站点和你的域控制器上或安装了远程服务器管理工具在工作站上

1.  打开组策略管理控制台。

2.  在控制台树中，右键单击你想要设置的组策略的站点。

    **其中？**

    -   Active Directory 站点和服务 [*Domain_Controller_Name.Domain_Name*] / 站点/站点

3.  单击中的条目**组策略对象链接**以选择现有组策略对象 (GPO)，然后单击**编辑**。 也可以单击“新建”以创建一个新的 GPO，然后单击“编辑”。

4.  在控制台树中，单击**软件限制策略**。

    **其中**

    -   *组策略对象*[*ComputerName*] 策略/计算机配置或

        用户配置 / Windows 设置/安全设置/软件限制策略

> [!NOTE]
> -   若要执行该过程，你必须是本地计算机上Administrators 组的成员，或你必须已被委派适当的权限。 如果计算机已加入某个域，则 Domain Admins 组的成员可能会执行该过程。
> -   若要设置策略设置将应用于计算机，无论哪个用户登录到它们，请单击**计算机配置**。
> -   若要设置策略设置将应用到用户，哪台计算机无论他们登录到，单击**用户配置**。

## <a name="BKMK_Create_SRP"></a>若要创建新的软件限制策略

1.  打开“软件限制策略”。

2.  在“操作”菜单上单击“新建软件限制策略”。

> [!WARNING]
> -   需要根据你的环境，使用不同的管理凭据来执行此过程：
> 
>     -   如果要为本地计算机创建新的软件限制策略：必须至少具有本地 **Administrators** 组中的成员身份或同等身份才能完成此过程。
>     -   如果要为加入到域的计算机创建新的软件限制策略，则域管理员组的成员可以执行此过程。
> -   如果已经为组策略对象 (GPO) 创建了软件限制策略，则“操作”菜单上不会显示“新建软件限制策略”命令。 若要删除已应用到 GPO 的软件限制策略，请在控制台树中，右键单击“软件限制策略”，然后单击“删除软件限制策略”。 在 gpo 中删除软件限制策略时，还为该 GPO 删除所有软件限制策略规则。 在删除软件限制策略后，可为该 GPO 创建新的软件限制策略。

## <a name="BKMK_Add_Del"></a>若要添加或删除指定的文件类型

1.  打开“软件限制策略”。

2.  在详细信息窗格中，双击“指定的文件类型”。

3.  执行下列操作之一：

    -   若要添加文件类型，请在“文件扩展名”中键入文件扩展名，然后单击“添加”。

    -   若要删除文件类型，请在“指定的文件类型”中单击文件类型，然后单击“删除”。

> [!NOTE]
> -   需要根据你在其中添加或删除指定文件类型的环境，使用不同的管理凭据执行此过程：
> 
>     -   如果要为本地计算机添加或删除指定的文件类型：必须至少具有本地 **Administrators** 组中的成员身份或同等身份才能完成此过程。
>     -   如果要为加入到域的计算机创建新的软件限制策略，则域管理员组的成员可以执行此过程。
> -   可能需要为组策略对象 (GPO) 创建新的软件限制策略设置（如果尚未这样做）。
> -   指定的文件类型的列表是由所有规则共享计算机配置和用户配置的 GPO。

## <a name="BKMK_Prevent_Admin"></a>若要防止向本地管理员应用软件限制策略

1.  打开“软件限制策略”。

2.  在详细信息窗格中，双击“强制”。

3.  在“将软件限制策略应用于以下用户”下，单击“除本地管理员以外的所有用户”。

> [!WARNING]
> -   必须至少具有本地 **Administrators** 组中的成员身份或同等身份才能完成此过程。
> -   可能需要为组策略对象 (GPO) 创建新的软件限制策略设置（如果尚未这样做）。
> -   如果用户成为组织中计算机上的本地 Administrators 组成员的情况很常见，则你可能不需要启用此选项。
> -   如果要为本地计算机定义软件限制策略设置，请使用此过程来防止向本地管理员应用软件限制策略。 如果要为你的网络定义软件限制策略设置，筛选基于中通过组策略的安全组成员身份的用户策略设置。

## <a name="BKMK_Sec_Lvl"></a>若要更改软件限制策略的默认安全级别

1.  打开“软件限制策略”。

2.  在详细信息窗格中，双击“安全级别”。

3.  右键单击要设置为默认安全级别的安全级别，然后单击“设为默认”。

> [!CAUTION]
> 在某些目录中，将默认安全级别设置为“不允许”可能会给操作系统造成不利影响。

> [!NOTE]
> -   需要根据你要为其更改软件限制策略默认安全级别的环境，使用不同的管理凭据执行此过程。
> -   可能需要为此组策略对象 (GPO) 创建新的软件限制策略设置（如果尚未这样做）。
> -   在详细信息窗格中，当前的默认安全级别以一个含有复选标记的黑圈表示。 如果右键单击当前的默认安全级别，菜单中不会显示“设为默认”命令。
> -   软件限制策略规则创建以指定的默认安全级别的例外情况。 当默认安全级别设置为“不受限”时，规则可以指定不允许运行的软件。 当默认安全级别设置为“不允许”时，规则可以指定允许运行的软件。
> -   在安装时，针对系统上所有文件的软件限制策略默认安全级别设置为“不受限”。

## <a name="BKMK_Apply_SRP_DLLs"></a>若要向 Dll 应用软件限制策略

1.  打开“软件限制策略”。

2.  在详细信息窗格中，双击“强制”。

3.  在“将软件限制策略应用于以下”下，单击“所有软件文件”。

> [!NOTE]
> -   若要执行该过程，你必须是本地计算机上Administrators 组的成员，或你必须已被委派适当的权限。 如果计算机已加入某个域，则 Domain Admins 组的成员可能会执行该过程。
> -   默认情况下，软件限制策略不检查动态链接库 (DLL)。 检查 DLL 可能会降低系统性能，因为每加载一个 DLL 都必须评估软件限制策略。 但是，如果你担心会接收到针对 DLL 的病毒，则可以要求检查 DLL。 如果默认安全级别设置为**不允许**，并启用了 DLL 检查，必须创建软件限制策略规则，以便运行每个 DLL。


